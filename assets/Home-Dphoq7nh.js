import{r as e,j as t}from"./index.js";import{c as n,B as i,S as o,a as r,C as a,g as s,L as l}from"./BorderLine-CsivaJ_Y.js";import{B as c,c as d,g as u,P as p}from"./ProjectList-_Y0nTx9Z.js";import{G as m}from"./GridSection-Cqh0gYuF.js";/* empty css                 */import"./Projects-BisdJUQR.js";
/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=n("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),g=n("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]),v=n("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),y=n("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),x=n("MonitorSmartphone",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]),h=n("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),b=n("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),w=n("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),S=n("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),k=e.memo((({className:e,children:n})=>t.jsx("div",{className:"max-w-20 md:max-w-26 lg:max-w-32 "+e,children:t.jsxs("div",{className:"relative",children:[n,t.jsx(i,{className:"line-top w-[130%]"}),t.jsx(i,{className:"line-bottom w-[130%]"}),t.jsx(i,{className:"line-left h-[130%]"}),t.jsx(i,{className:"line-right h-[130%]"})]})}))),P=e.memo((({className:e,url:n,alt:i,...o})=>t.jsx("img",{className:`aspect-square ${e}`,width:512,height:512,src:n,alt:i,...o})));k.image=P;const A=e.memo((function(){return t.jsxs(t.Fragment,{children:[t.jsx("div",{children:t.jsx(k,{className:"mb-8 md:mb-10 lg:mb-12",children:t.jsx(k.image,{url:"/images/me/me.webp",className:"grayscale-100 transition-all hover:grayscale-25",alt:"It's me"})})}),t.jsx("h1",{className:"font-medium tracking-tight text-pretty",children:"hi, im Jaypal a"}),t.jsxs("h1",{className:"mb-4 max-w-[18ch]",children:[t.jsx("span",{className:"text-accent whitespace-nowrap",children:"Full Stack"})," ",t.jsx("span",{className:"whitespace-nowrap",children:"web developer"})]}),t.jsx("h3",{className:"mb-6 max-w-[52ch] text-pretty",children:"Crafting seamless, high-performance web applications. Expert in modern front-end & back-end technologies. Transforming ideas into interactive digital experiences. Optimized, scalable, and user-friendly solutions."}),t.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[t.jsx("a",{href:"#connect",children:t.jsxs(c,{className:"flex items-center justify-center gap-3",children:[t.jsx("span",{className:"ripple aspect-square w-2 rounded-full"}),t.jsx("p",{children:"Available for work"})]})}),t.jsxs("div",{className:"me-auto inline-flex flex-wrap gap-2",children:[t.jsx("p",{className:"text-muted-foreground",children:"Love by customers"}),t.jsx("div",{className:"inline-flex items-center gap-1",children:[1,2,3,4,5].map((e=>t.jsx(S,{className:"size-4",fill:"var(--color-accent)",stroke:"var(--color-accent)"},`rate-${e}`)))})]})]})]})})),M={laravel:{name:"Laravel",icon:"laravel",color:"#ff2d20",url:"https://laravel.com/"},react:{name:"React",icon:"react",color:"#00d8ff",url:"https://react.dev/"},mysql:{name:"MySql",icon:"mysql",color:"#00618a",url:"https://www.mysql.com/"},php:{name:"PHP",icon:"php",color:"#6280b6",url:"https://www.php.net/"},js:{name:"JavaScript",icon:"js",color:"#f7df1e",url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript"},aws:{name:"Amazon Web Service",icon:"aws",color:"#ff9900",url:"https://aws.amazon.com/"},jquery:{name:"jQuery",icon:"jQuery",color:"#0868ac",url:"https://jquery.com/"},git:{name:"Git",icon:"git",color:"#de4c36",url:"https://git-scm.com/"},tailwind:{name:"Tailwind CSS",icon:"tailwind",color:"#00bcff",url:"https://tailwindcss.com/"},bootstrap:{name:"Bootstrap",icon:"bootstrap",color:"#8c12fc",url:"https://getbootstrap.com/"},css:{name:"CSS",icon:"css",color:"#663399",url:"https://developer.mozilla.org/en-US/docs/Web/CSS"},html:{name:"HTML",icon:"html",color:"#f1662a",url:"https://developer.mozilla.org/en-US/docs/Web/HTML"},cpanel:{name:"cPanel",icon:"cpanel",color:"#ff6c2c",url:"https://cpanel.net/"},apache:{name:"Apache",icon:"apache",color:"#c92036",url:"https://www.apache.org/"},photoshop:{name:"Photoshop",icon:"photoshop",color:"#31a8ff",url:"https://www.adobe.com/in/products/photoshop.html"}},C=[...Object.values(M)],B=[{name:"RLMA Stack",text:"React, Laravel, PHP, MySql, Apache, Tailwind CSS",skills:[M.react,M.laravel,M.mysql,M.apache]},{name:"LTMA Stack",text:"Laravel, PHP, MySql, Apache, HTML, Tailwind CSS",skills:[M.laravel,M.tailwind,M.mysql,M.apache]}],j={laravel:"/images/Skills/laravel.svg",mysql:"/images/Skills/mysql.svg",php:"/images/Skills/php.svg",js:"/images/Skills/js.svg",aws:"/images/Skills/aws.svg",jQuery:"/images/Skills/jquery.svg",git:"/images/Skills/git.svg",bootstrap:"/images/Skills/bootstrap.png",css:"/images/Skills/css.svg",html:"/images/Skills/html.svg",react:"/images/Skills/react.svg",tailwind:"/images/Skills/tailwind.svg",photoshop:"/images/Skills/photoshop.svg",cpanel:"/images/Skills/cpanel.svg",apache:"/images/Skills/apache.svg"},_=()=>{const{theme:n}=e.useContext(o);return t.jsxs(t.Fragment,{children:[t.jsx(r,{title:"Skills & Services",description:"I've honed my skills in web app technologies and can provide a wide range of services to help you build amazing web solutions"}),t.jsx("div",{className:"inline-p relative ms-7 grid grid-cols-[repeat(auto-fill,48px)] lg:grid-cols-[repeat(auto-fill,50px)] gap-x-6 gap-y-11 lg:gap-x-12 lg:gap-y-18",children:C.map((e=>t.jsx("div",{className:"group",children:t.jsx("a",{href:e.url,children:t.jsx(a,{name:e.name,icon:j[e.icon],color:e.color,style:{"--cube-color":e.color,"--cube-border-dark":"dark"===n?`color-mix(in oklab, ${e.color} 70%, #000 30%)`:null}})})},`skill-${e.name}`)))})]})},I=[{name:"Optimization",icon:t.jsx(w,{}),description:"Accelerate your web app for a seamless experience"},{name:"Deployment",icon:t.jsx(v,{}),description:"Deploy your project on linux base server"},{name:"Bug Fixing",icon:t.jsx(g,{}),description:"Fixing a bug makes the  user experience smooth"},{name:"Development",icon:t.jsx(y,{}),description:"Make your vision come to life with clean and optimized code."},{name:"Responsive site",icon:t.jsx(x,{}),description:"Your site is adept on all screens with good looks"},{name:"Custom Design",icon:t.jsx(b,{}),description:"Designing stunning pages that engage the user"}],T=e.memo((function(){return t.jsx(m,{children:I.map((e=>t.jsx(m.box,{title:e.name,icon:e.icon,description:e.description},`service-${e.name}`)))})})),R=[{avatar:"/images/Company/technologist_gold.png",name:"Freelancing",position:"Web Developer",date:"Remote 路 Oct 2024 - Present 路 "+s("2024-10-21").sortString,url:"https://www.upwork.com/freelancers/~01c82ba1bdfd7ed735",description:"Working as full stack developer",skills:[{name:"Laravel",icon:"laravel"},{name:"React",icon:"react"},{name:"PHP",icon:"php"},{name:"JavaScript",icon:"js"},{name:"Amazon Web Service",icon:"aws"},{name:"MySql",icon:"mysql"},{name:"jQuery",icon:"jQuery"},{name:"Git"},{name:"Tailwind CSS"},{name:"Bootstrap"},{name:"CSS"},{name:"HTML"}]},{avatar:"/images/Company/arvaan.png",name:"Arvaan TechnoLab",position:"Laravel Developer",date:"Full-Time 路 Apr 2022 - Oct 2024 路 "+s("2022-04-11","2024-10-04").sortString,url:"https://www.arvaantechnolab.com/",description:"I have done my job as a junior Laravel and PHP developer with mid-to advance project",skills:[{name:"Laravel",icon:"laravel"},{name:"MySql",icon:"mysql"},{name:"PHP",icon:"php"},{name:"JavaScript",icon:"js"},{name:"Amazon Web Service",icon:"aws"},{name:"jQuery",icon:"jQuery"},{name:"Git",icon:"git"},{name:"Bootstrap"},{name:"CSS"},{name:"HTML"}]}],N=e.memo((function(){return t.jsxs(t.Fragment,{children:[t.jsx(r,{title:"Work Experience",description:"This is the amazing journey of my development career",className:"mb-12"}),t.jsx("div",{className:"inline-p space-y-14",children:R.map((e=>t.jsx(D,{data:e},e.name)))})]})})),D=({data:e})=>{var n;return t.jsxs("div",{className:"timeline-wrapper grid grid-cols-[min-content_1fr] grid-rows-1 gap-5 after:top-16 after:left-7 md:after:left-8",children:[t.jsx("div",{className:"bg-second-background outline-background border-border z-10 aspect-square w-14 border p-2 outline-8 md:w-16",children:t.jsx("img",{src:e.avatar,alt:null==(n=e.name)?void 0:n.slice(0,1)})}),t.jsxs("div",{className:"text-muted-foreground",children:[t.jsx("h3",{className:"text-foreground",children:e.name}),t.jsx("p",{children:e.position}),t.jsx("p",{className:"mb-2 text-pretty",children:e.date}),t.jsx("p",{className:"text-foreground max-w-[44ch]",children:e.description})]})]})},L=[{rating:5,name:"Elena",lastName:"Battiston",platform:"Upwork",text:"Jaypal worked on our project in a timely manner,\n                    delivered perfectly working application."},{rating:0,name:"Unknown",lastName:"",platform:"Upwork",text:"Next testimonial is coming soon"}],E=e.memo((function({children:n,count:i}){const[o,r]=e.useState("-");return e.useEffect((()=>{const e=[];if(!(i<1)){for(let t=0;t<i;t++)e.push(n);r(e)}}),[i]),t.jsx(t.Fragment,{children:o})})),F=e.memo((function(){return t.jsxs(t.Fragment,{children:[t.jsx(r,{title:"Testimonial ",description:"Read what clients say and I will be happy to see you here",className:"mb-12"}),t.jsx("div",{className:"inline-p grid grid-cols-1 gap-4 md:grid-cols-2",children:L.map((e=>t.jsx("div",{className:"bg-second-background relative w-full rounded p-6 md:px-8 md:py-6",children:t.jsxs("div",{className:"flex flex-col items-start gap-4",children:[t.jsx("img",{src:"#",className:"bg-muted-foreground aspect-square w-12 shrink-0 rounded-full",alt:e.name.slice(0,1)+e.lastName.slice(0,1)}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx("p",{className:"max-w-[36ch] text-lg font-normal",children:t.jsx("q",{children:e.text})}),t.jsx("div",{className:"inline-flex items-center gap-1",children:t.jsx(E,{count:e.rating,children:t.jsx(S,{className:"size-4",fill:"var(--color-accent)",stroke:"var(--color-accent)"})})}),t.jsxs("p",{className:"text-muted-foreground italic",children:[e.name," ",e.lastName]})]})]})},`testimonial-${e.name}`)))})]})}));var V,q={exports:{}};
/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */const H=u(V?q.exports:(V=1,q.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t){var n={};e.exports=n,function(){n._baseDelta=1e3/60,n._nextId=0,n._seed=0,n._nowStartTime=+new Date,n._warnedOnce={},n._decomp=null,n.extend=function(e,t){var i,o;"boolean"==typeof t?(i=2,o=t):(i=1,o=!0);for(var r=i;r<arguments.length;r++){var a=arguments[r];if(a)for(var s in a)o&&a[s]&&a[s].constructor===Object?e[s]&&e[s].constructor!==Object?e[s]=a[s]:(e[s]=e[s]||{},n.extend(e[s],o,a[s])):e[s]=a[s]}return e},n.clone=function(e,t){return n.extend({},t,e)},n.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},n.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),i=0;i<n.length;i++)t.push(e[n[i]]);return t}for(var o in e)t.push(e[o]);return t},n.get=function(e,t,n,i){t=t.split(".").slice(n,i);for(var o=0;o<t.length;o+=1)e=e[t[o]];return e},n.set=function(e,t,i,o,r){var a=t.split(".").slice(o,r);return n.get(e,t,0,-1)[a[a.length-1]]=i,i},n.shuffle=function(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(n.random()*(t+1)),o=e[t];e[t]=e[i],e[i]=o}return e},n.choose=function(e){return e[Math.floor(n.random()*e.length)]},n.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},n.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.isFunction=function(e){return"function"==typeof e},n.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},n.isString=function(e){return"[object String]"===toString.call(e)},n.clamp=function(e,t,n){return e<t?t:e>n?n:e},n.sign=function(e){return e<0?-1:1},n.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-n._nowStartTime},n.random=function(t,n){return n=void 0!==n?n:1,(t=void 0!==t?t:0)+e()*(n-t)};var e=function(){return n._seed=(9301*n._seed+49297)%233280,n._seed/233280};n.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},n.logLevel=1,n.log=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.info=function(){console&&n.logLevel>0&&n.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warn=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warnOnce=function(){var e=Array.prototype.slice.call(arguments).join(" ");n._warnedOnce[e]||(n.warn(e),n._warnedOnce[e]=!0)},n.deprecated=function(e,t,i){e[t]=n.chain((function(){n.warnOnce(" deprecated ",i)}),e[t])},n.nextId=function(){return n._nextId++},n.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.map=function(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n},n.topologicalSort=function(e){var t=[],i=[],o=[];for(var r in e)i[r]||o[r]||n._topologicalSort(r,i,o,e,t);return t},n._topologicalSort=function(e,t,i,o,r){var a=o[e]||[];i[e]=!0;for(var s=0;s<a.length;s+=1){var l=a[s];i[l]||t[l]||n._topologicalSort(l,t,i,o,r)}i[e]=!1,t[e]=!0,r.push(e)},n.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var n=arguments[t];n._chained?e.push.apply(e,n._chained):e.push(n)}var i=function(){for(var t,n=new Array(arguments.length),i=0,o=arguments.length;i<o;i++)n[i]=arguments[i];for(i=0;i<e.length;i+=1){var r=e[i].apply(t,n);void 0!==r&&(t=r)}return t};return i._chained=e,i},n.chainPathBefore=function(e,t,i){return n.set(e,t,n.chain(i,n.get(e,t)))},n.chainPathAfter=function(e,t,i){return n.set(e,t,n.chain(n.get(e,t),i))},n.setDecomp=function(e){n._decomp=e},n.getDecomp=function(){var e=n._decomp;try{e||"undefined"==typeof window||(e=window.decomp),e||void 0===d||(e=d.decomp)}catch(t){e=null}return e}}()},function(e,t){var n={};e.exports=n,n.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&n.update(t,e),t},n.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var i=0;i<t.length;i++){var o=t[i];o.x>e.max.x&&(e.max.x=o.x),o.x<e.min.x&&(e.min.x=o.x),o.y>e.max.y&&(e.max.y=o.y),o.y<e.min.y&&(e.min.y=o.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},n.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},n.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},n.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},n.shift=function(e,t){var n=e.max.x-e.min.x,i=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+i}},function(e,t){var n={};e.exports=n,n.create=function(e,t){return{x:e||0,y:t||0}},n.clone=function(e){return{x:e.x,y:e.y}},n.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},n.rotate=function(e,t,n){var i=Math.cos(t),o=Math.sin(t);n||(n={});var r=e.x*i-e.y*o;return n.y=e.x*o+e.y*i,n.x=r,n},n.rotateAbout=function(e,t,n,i){var o=Math.cos(t),r=Math.sin(t);i||(i={});var a=n.x+((e.x-n.x)*o-(e.y-n.y)*r);return i.y=n.y+((e.x-n.x)*r+(e.y-n.y)*o),i.x=a,i},n.normalise=function(e){var t=n.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.cross=function(e,t){return e.x*t.y-e.y*t.x},n.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},n.add=function(e,t,n){return n||(n={}),n.x=e.x+t.x,n.y=e.y+t.y,n},n.sub=function(e,t,n){return n||(n={}),n.x=e.x-t.x,n.y=e.y-t.y,n},n.mult=function(e,t){return{x:e.x*t,y:e.y*t}},n.div=function(e,t){return{x:e.x/t,y:e.y/t}},n.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},n.neg=function(e){return{x:-e.x,y:-e.y}},n.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]},function(e,t,n){var i={};e.exports=i;var o=n(2),r=n(0);i.create=function(e,t){for(var n=[],i=0;i<e.length;i++){var o=e[i],r={x:o.x,y:o.y,index:i,body:t,isInternal:!1};n.push(r)}return n},i.fromPath=function(e,t){var n=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(e,t,i){n.push({x:parseFloat(t),y:parseFloat(i)})})),i.create(n,t)},i.centre=function(e){for(var t,n,r,a=i.area(e,!0),s={x:0,y:0},l=0;l<e.length;l++)r=(l+1)%e.length,t=o.cross(e[l],e[r]),n=o.mult(o.add(e[l],e[r]),t),s=o.add(s,n);return o.div(s,6*a)},i.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return o.div(t,e.length)},i.area=function(e,t){for(var n=0,i=e.length-1,o=0;o<e.length;o++)n+=(e[i].x-e[o].x)*(e[i].y+e[o].y),i=o;return t?n/2:Math.abs(n)/2},i.inertia=function(e,t){for(var n,i,r=0,a=0,s=e,l=0;l<s.length;l++)i=(l+1)%s.length,r+=(n=Math.abs(o.cross(s[i],s[l])))*(o.dot(s[i],s[i])+o.dot(s[i],s[l])+o.dot(s[l],s[l])),a+=n;return t/6*(r/a)},i.translate=function(e,t,n){n=void 0!==n?n:1;var i,o=e.length,r=t.x*n,a=t.y*n;for(i=0;i<o;i++)e[i].x+=r,e[i].y+=a;return e},i.rotate=function(e,t,n){if(0!==t){var i,o,r,a,s=Math.cos(t),l=Math.sin(t),c=n.x,d=n.y,u=e.length;for(a=0;a<u;a++)o=(i=e[a]).x-c,r=i.y-d,i.x=c+(o*s-r*l),i.y=d+(o*l+r*s);return e}},i.contains=function(e,t){for(var n,i=t.x,o=t.y,r=e.length,a=e[r-1],s=0;s<r;s++){if(n=e[s],(i-a.x)*(n.y-a.y)+(o-a.y)*(a.x-n.x)>0)return!1;a=n}return!0},i.scale=function(e,t,n,r){if(1===t&&1===n)return e;var a,s;r=r||i.centre(e);for(var l=0;l<e.length;l++)a=e[l],s=o.sub(a,r),e[l].x=r.x+s.x*t,e[l].y=r.y+s.y*n;return e},i.chamfer=function(e,t,n,i,a){t="number"==typeof t?[t]:t||[8],n=void 0!==n?n:-1,i=i||2,a=a||14;for(var s=[],l=0;l<e.length;l++){var c=e[l-1>=0?l-1:e.length-1],d=e[l],u=e[(l+1)%e.length],p=t[l<t.length?l:t.length-1];if(0!==p){var m=o.normalise({x:d.y-c.y,y:c.x-d.x}),f=o.normalise({x:u.y-d.y,y:d.x-u.x}),g=Math.sqrt(2*Math.pow(p,2)),v=o.mult(r.clone(m),p),y=o.normalise(o.mult(o.add(m,f),.5)),x=o.sub(d,o.mult(y,g)),h=n;-1===n&&(h=1.75*Math.pow(p,.32)),(h=r.clamp(h,i,a))%2==1&&(h+=1);for(var b=Math.acos(o.dot(m,f))/h,w=0;w<h;w++)s.push(o.add(o.rotate(v,b*w),x))}else s.push(d)}return s},i.clockwiseSort=function(e){var t=i.mean(e);return e.sort((function(e,n){return o.angle(t,e)-o.angle(t,n)})),e},i.isConvex=function(e){var t,n,i,o,r=0,a=e.length;if(a<3)return null;for(t=0;t<a;t++)if(i=(t+2)%a,o=(e[n=(t+1)%a].x-e[t].x)*(e[i].y-e[n].y),(o-=(e[n].y-e[t].y)*(e[i].x-e[n].x))<0?r|=1:o>0&&(r|=2),3===r)return!1;return 0!==r||null},i.hull=function(e){var t,n,i=[],r=[];for((e=e.slice(0)).sort((function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y})),n=0;n<e.length;n+=1){for(t=e[n];r.length>=2&&o.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}for(n=e.length-1;n>=0;n-=1){for(t=e[n];i.length>=2&&o.cross3(i[i.length-2],i[i.length-1],t)<=0;)i.pop();i.push(t)}return i.pop(),r.pop(),i.concat(r)}},function(e,t,n){var i={};e.exports=i;var o=n(3),r=n(2),a=n(7),s=n(0),l=n(1),c=n(11);!function(){i._timeCorrection=!0,i._inertiaScale=4,i._nextCollidingGroupId=1,i._nextNonCollidingGroupId=-1,i._nextCategory=1,i._baseDelta=1e3/60,i.create=function(t){var n={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:o.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},i=s.extend(n,t);return e(i,t),i},i.nextGroup=function(e){return e?i._nextNonCollidingGroupId--:i._nextCollidingGroupId++},i.nextCategory=function(){return i._nextCategory=i._nextCategory<<1,i._nextCategory};var e=function(e,t){t=t||{},i.set(e,{bounds:e.bounds||l.create(e.vertices),positionPrev:e.positionPrev||r.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),o.rotate(e.vertices,e.angle,e.position),c.rotate(e.axes,e.angle),l.update(e.bounds,e.vertices,e.velocity),i.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#14151f":s.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),a=e.isStatic?"#555":"#ccc",d=e.isStatic&&null===e.render.fillStyle?1:0;e.render.fillStyle=e.render.fillStyle||n,e.render.strokeStyle=e.render.strokeStyle||a,e.render.lineWidth=e.render.lineWidth||d,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};i.set=function(e,t,n){var o;for(o in"string"==typeof t&&(o=t,(t={})[o]=n),t)if(Object.prototype.hasOwnProperty.call(t,o))switch(n=t[o],o){case"isStatic":i.setStatic(e,n);break;case"isSleeping":a.set(e,n);break;case"mass":i.setMass(e,n);break;case"density":i.setDensity(e,n);break;case"inertia":i.setInertia(e,n);break;case"vertices":i.setVertices(e,n);break;case"position":i.setPosition(e,n);break;case"angle":i.setAngle(e,n);break;case"velocity":i.setVelocity(e,n);break;case"angularVelocity":i.setAngularVelocity(e,n);break;case"speed":i.setSpeed(e,n);break;case"angularSpeed":i.setAngularSpeed(e,n);break;case"parts":i.setParts(e,n);break;case"centre":i.setCentre(e,n);break;default:e[o]=n}},i.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var i=e.parts[n];t?(i.isStatic||(i._original={restitution:i.restitution,friction:i.friction,mass:i.mass,inertia:i.inertia,density:i.density,inverseMass:i.inverseMass,inverseInertia:i.inverseInertia}),i.restitution=0,i.friction=1,i.mass=i.inertia=i.density=1/0,i.inverseMass=i.inverseInertia=0,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.anglePrev=i.angle,i.angularVelocity=0,i.speed=0,i.angularSpeed=0,i.motion=0):i._original&&(i.restitution=i._original.restitution,i.friction=i._original.friction,i.mass=i._original.mass,i.inertia=i._original.inertia,i.density=i._original.density,i.inverseMass=i._original.inverseMass,i.inverseInertia=i._original.inverseInertia,i._original=null),i.isStatic=t}},i.setMass=function(e,t){var n=e.inertia/(e.mass/6);e.inertia=n*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},i.setDensity=function(e,t){i.setMass(e,t*e.area),e.density=t},i.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},i.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=o.create(t,e),e.axes=c.fromVertices(e.vertices),e.area=o.area(e.vertices),i.setMass(e,e.density*e.area);var n=o.centre(e.vertices);o.translate(e.vertices,n,-1),i.setInertia(e,i._inertiaScale*o.inertia(e.vertices,e.mass)),o.translate(e.vertices,e.position),l.update(e.bounds,e.vertices,e.velocity)},i.setParts=function(e,t,n){var r;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,r=0;r<t.length;r++){var a=t[r];a!==e&&(a.parent=e,e.parts.push(a))}if(1!==e.parts.length){if(n=void 0===n||n){var s=[];for(r=0;r<t.length;r++)s=s.concat(t[r].vertices);o.clockwiseSort(s);var l=o.hull(s),c=o.centre(l);i.setVertices(e,l),o.translate(e.vertices,c)}var d=i._totalProperties(e);e.area=d.area,e.parent=e,e.position.x=d.centre.x,e.position.y=d.centre.y,e.positionPrev.x=d.centre.x,e.positionPrev.y=d.centre.y,i.setMass(e,d.mass),i.setInertia(e,d.inertia),i.setPosition(e,d.centre)}},i.setCentre=function(e,t,n){n?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},i.setPosition=function(e,t,n){var i=r.sub(t,e.position);n?(e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.velocity.x=i.x,e.velocity.y=i.y,e.speed=r.magnitude(i)):(e.positionPrev.x+=i.x,e.positionPrev.y+=i.y);for(var a=0;a<e.parts.length;a++){var s=e.parts[a];s.position.x+=i.x,s.position.y+=i.y,o.translate(s.vertices,i),l.update(s.bounds,s.vertices,e.velocity)}},i.setAngle=function(e,t,n){var i=t-e.angle;n?(e.anglePrev=e.angle,e.angularVelocity=i,e.angularSpeed=Math.abs(i)):e.anglePrev+=i;for(var a=0;a<e.parts.length;a++){var s=e.parts[a];s.angle+=i,o.rotate(s.vertices,i,e.position),c.rotate(s.axes,i),l.update(s.bounds,s.vertices,e.velocity),a>0&&r.rotateAbout(s.position,i,e.position,s.position)}},i.setVelocity=function(e,t){var n=e.deltaTime/i._baseDelta;e.positionPrev.x=e.position.x-t.x*n,e.positionPrev.y=e.position.y-t.y*n,e.velocity.x=(e.position.x-e.positionPrev.x)/n,e.velocity.y=(e.position.y-e.positionPrev.y)/n,e.speed=r.magnitude(e.velocity)},i.getVelocity=function(e){var t=i._baseDelta/e.deltaTime;return{x:(e.position.x-e.positionPrev.x)*t,y:(e.position.y-e.positionPrev.y)*t}},i.getSpeed=function(e){return r.magnitude(i.getVelocity(e))},i.setSpeed=function(e,t){i.setVelocity(e,r.mult(r.normalise(i.getVelocity(e)),t))},i.setAngularVelocity=function(e,t){var n=e.deltaTime/i._baseDelta;e.anglePrev=e.angle-t*n,e.angularVelocity=(e.angle-e.anglePrev)/n,e.angularSpeed=Math.abs(e.angularVelocity)},i.getAngularVelocity=function(e){return(e.angle-e.anglePrev)*i._baseDelta/e.deltaTime},i.getAngularSpeed=function(e){return Math.abs(i.getAngularVelocity(e))},i.setAngularSpeed=function(e,t){i.setAngularVelocity(e,s.sign(i.getAngularVelocity(e))*t)},i.translate=function(e,t,n){i.setPosition(e,r.add(e.position,t),n)},i.rotate=function(e,t,n,o){if(n){var r=Math.cos(t),a=Math.sin(t),s=e.position.x-n.x,l=e.position.y-n.y;i.setPosition(e,{x:n.x+(s*r-l*a),y:n.y+(s*a+l*r)},o),i.setAngle(e,e.angle+t,o)}else i.setAngle(e,e.angle+t,o)},i.scale=function(e,t,n,r){var a=0,s=0;r=r||e.position;for(var d=0;d<e.parts.length;d++){var u=e.parts[d];o.scale(u.vertices,t,n,r),u.axes=c.fromVertices(u.vertices),u.area=o.area(u.vertices),i.setMass(u,e.density*u.area),o.translate(u.vertices,{x:-u.position.x,y:-u.position.y}),i.setInertia(u,i._inertiaScale*o.inertia(u.vertices,u.mass)),o.translate(u.vertices,{x:u.position.x,y:u.position.y}),d>0&&(a+=u.area,s+=u.inertia),u.position.x=r.x+(u.position.x-r.x)*t,u.position.y=r.y+(u.position.y-r.y)*n,l.update(u.bounds,u.vertices,e.velocity)}e.parts.length>1&&(e.area=a,e.isStatic||(i.setMass(e,e.density*a),i.setInertia(e,s))),e.circleRadius&&(t===n?e.circleRadius*=t:e.circleRadius=null)},i.update=function(e,t){var n=(t=(void 0!==t?t:1e3/60)*e.timeScale)*t,a=i._timeCorrection?t/(e.deltaTime||t):1,d=1-e.frictionAir*(t/s._baseDelta),u=(e.position.x-e.positionPrev.x)*a,p=(e.position.y-e.positionPrev.y)*a;e.velocity.x=u*d+e.force.x/e.mass*n,e.velocity.y=p*d+e.force.y/e.mass*n,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.deltaTime=t,e.angularVelocity=(e.angle-e.anglePrev)*d*a+e.torque/e.inertia*n,e.anglePrev=e.angle,e.angle+=e.angularVelocity;for(var m=0;m<e.parts.length;m++){var f=e.parts[m];o.translate(f.vertices,e.velocity),m>0&&(f.position.x+=e.velocity.x,f.position.y+=e.velocity.y),0!==e.angularVelocity&&(o.rotate(f.vertices,e.angularVelocity,e.position),c.rotate(f.axes,e.angularVelocity),m>0&&r.rotateAbout(f.position,e.angularVelocity,e.position,f.position)),l.update(f.bounds,f.vertices,e.velocity)}},i.updateVelocities=function(e){var t=i._baseDelta/e.deltaTime,n=e.velocity;n.x=(e.position.x-e.positionPrev.x)*t,n.y=(e.position.y-e.positionPrev.y)*t,e.speed=Math.sqrt(n.x*n.x+n.y*n.y),e.angularVelocity=(e.angle-e.anglePrev)*t,e.angularSpeed=Math.abs(e.angularVelocity)},i.applyForce=function(e,t,n){var i=t.x-e.position.x,o=t.y-e.position.y;e.force.x+=n.x,e.force.y+=n.y,e.torque+=i*n.y-o*n.x},i._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var i=e.parts[n],o=i.mass!==1/0?i.mass:1;t.mass+=o,t.area+=i.area,t.inertia+=i.inertia,t.centre=r.add(t.centre,r.mult(i.position,o))}return t.centre=r.div(t.centre,t.mass),t}}()},function(e,t,n){var i={};e.exports=i;var o=n(0);i.on=function(e,t,n){for(var i,o=t.split(" "),r=0;r<o.length;r++)i=o[r],e.events=e.events||{},e.events[i]=e.events[i]||[],e.events[i].push(n);return n},i.off=function(e,t,n){if(t){"function"==typeof t&&(n=t,t=o.keys(e.events).join(" "));for(var i=t.split(" "),r=0;r<i.length;r++){var a=e.events[i[r]],s=[];if(n&&a)for(var l=0;l<a.length;l++)a[l]!==n&&s.push(a[l]);e.events[i[r]]=s}}else e.events={}},i.trigger=function(e,t,n){var i,r,a,s,l=e.events;if(l&&o.keys(l).length>0){n||(n={}),i=t.split(" ");for(var c=0;c<i.length;c++)if(a=l[r=i[c]]){(s=o.clone(n,!1)).name=r,s.source=e;for(var d=0;d<a.length;d++)a[d].apply(e,[s])}}}},function(e,t,n){var i={};e.exports=i;var o=n(5),r=n(0),a=n(1),s=n(4);i.create=function(e){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},i.setModified=function(e,t,n,o){if(e.isModified=t,t&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),n&&e.parent&&i.setModified(e.parent,t,n,o),o)for(var r=0;r<e.composites.length;r++){var a=e.composites[r];i.setModified(a,t,n,o)}},i.add=function(e,t){var n=[].concat(t);o.trigger(e,"beforeAdd",{object:t});for(var a=0;a<n.length;a++){var s=n[a];switch(s.type){case"body":if(s.parent!==s){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}i.addBody(e,s);break;case"constraint":i.addConstraint(e,s);break;case"composite":i.addComposite(e,s);break;case"mouseConstraint":i.addConstraint(e,s.constraint)}}return o.trigger(e,"afterAdd",{object:t}),e},i.remove=function(e,t,n){var r=[].concat(t);o.trigger(e,"beforeRemove",{object:t});for(var a=0;a<r.length;a++){var s=r[a];switch(s.type){case"body":i.removeBody(e,s,n);break;case"constraint":i.removeConstraint(e,s,n);break;case"composite":i.removeComposite(e,s,n);break;case"mouseConstraint":i.removeConstraint(e,s.constraint)}}return o.trigger(e,"afterRemove",{object:t}),e},i.addComposite=function(e,t){return e.composites.push(t),t.parent=e,i.setModified(e,!0,!0,!1),e},i.removeComposite=function(e,t,n){var o=r.indexOf(e.composites,t);if(-1!==o){var a=i.allBodies(t);i.removeCompositeAt(e,o);for(var s=0;s<a.length;s++)a[s].sleepCounter=0}if(n)for(s=0;s<e.composites.length;s++)i.removeComposite(e.composites[s],t,!0);return e},i.removeCompositeAt=function(e,t){return e.composites.splice(t,1),i.setModified(e,!0,!0,!1),e},i.addBody=function(e,t){return e.bodies.push(t),i.setModified(e,!0,!0,!1),e},i.removeBody=function(e,t,n){var o=r.indexOf(e.bodies,t);if(-1!==o&&(i.removeBodyAt(e,o),t.sleepCounter=0),n)for(var a=0;a<e.composites.length;a++)i.removeBody(e.composites[a],t,!0);return e},i.removeBodyAt=function(e,t){return e.bodies.splice(t,1),i.setModified(e,!0,!0,!1),e},i.addConstraint=function(e,t){return e.constraints.push(t),i.setModified(e,!0,!0,!1),e},i.removeConstraint=function(e,t,n){var o=r.indexOf(e.constraints,t);if(-1!==o&&i.removeConstraintAt(e,o),n)for(var a=0;a<e.composites.length;a++)i.removeConstraint(e.composites[a],t,!0);return e},i.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),i.setModified(e,!0,!0,!1),e},i.clear=function(e,t,n){if(n)for(var o=0;o<e.composites.length;o++)i.clear(e.composites[o],t,!0);return t?e.bodies=e.bodies.filter((function(e){return e.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,i.setModified(e,!0,!0,!1),e},i.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(i.allBodies(e.composites[n]));return e.cache&&(e.cache.allBodies=t),t},i.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(i.allConstraints(e.composites[n]));return e.cache&&(e.cache.allConstraints=t),t},i.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(i.allComposites(e.composites[n]));return e.cache&&(e.cache.allComposites=t),t},i.get=function(e,t,n){var o,r;switch(n){case"body":o=i.allBodies(e);break;case"constraint":o=i.allConstraints(e);break;case"composite":o=i.allComposites(e).concat(e)}return o?0===(r=o.filter((function(e){return e.id.toString()===t.toString()}))).length?null:r[0]:null},i.move=function(e,t,n){return i.remove(e,t),i.add(n,t),e},i.rebase=function(e){for(var t=i.allBodies(e).concat(i.allConstraints(e)).concat(i.allComposites(e)),n=0;n<t.length;n++)t[n].id=r.nextId();return e},i.translate=function(e,t,n){for(var o=n?i.allBodies(e):e.bodies,r=0;r<o.length;r++)s.translate(o[r],t);return e},i.rotate=function(e,t,n,o){for(var r=Math.cos(t),a=Math.sin(t),l=o?i.allBodies(e):e.bodies,c=0;c<l.length;c++){var d=l[c],u=d.position.x-n.x,p=d.position.y-n.y;s.setPosition(d,{x:n.x+(u*r-p*a),y:n.y+(u*a+p*r)}),s.rotate(d,t)}return e},i.scale=function(e,t,n,o,r){for(var a=r?i.allBodies(e):e.bodies,l=0;l<a.length;l++){var c=a[l],d=c.position.x-o.x,u=c.position.y-o.y;s.setPosition(c,{x:o.x+d*t,y:o.y+u*n}),s.scale(c,t,n)}return e},i.bounds=function(e){for(var t=i.allBodies(e),n=[],o=0;o<t.length;o+=1){var r=t[o];n.push(r.bounds.min,r.bounds.max)}return a.create(n)}},function(e,t,n){var i={};e.exports=i;var o=n(4),r=n(5),a=n(0);i._motionWakeThreshold=.18,i._motionSleepThreshold=.08,i._minBias=.9,i.update=function(e,t){for(var n=t/a._baseDelta,r=i._motionSleepThreshold,s=0;s<e.length;s++){var l=e[s],c=o.getSpeed(l),d=o.getAngularSpeed(l),u=c*c+d*d;if(0===l.force.x&&0===l.force.y){var p=Math.min(l.motion,u),m=Math.max(l.motion,u);l.motion=i._minBias*p+(1-i._minBias)*m,l.sleepThreshold>0&&l.motion<r?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/n&&i.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}else i.set(l,!1)}},i.afterCollisions=function(e){for(var t=i._motionSleepThreshold,n=0;n<e.length;n++){var o=e[n];if(o.isActive){var r=o.collision,a=r.bodyA.parent,s=r.bodyB.parent;if(!(a.isSleeping&&s.isSleeping||a.isStatic||s.isStatic)&&(a.isSleeping||s.isSleeping)){var l=a.isSleeping&&!a.isStatic?a:s,c=l===a?s:a;!l.isStatic&&c.motion>t&&i.set(l,!1)}}}},i.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||r.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&r.trigger(e,"sleepEnd"))}},function(e,t,n){var i={};e.exports=i;var o,r,a,s=n(3),l=n(9);o=[],r={overlap:0,axis:null},a={overlap:0,axis:null},i.create=function(e,t){return{pair:null,collided:!1,bodyA:e,bodyB:t,parentA:e.parent,parentB:t.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},i.collides=function(e,t,n){if(i._overlapAxes(r,e.vertices,t.vertices,e.axes),r.overlap<=0)return null;if(i._overlapAxes(a,t.vertices,e.vertices,t.axes),a.overlap<=0)return null;var o,c,d=n&&n.table[l.id(e,t)];d?o=d.collision:((o=i.create(e,t)).collided=!0,o.bodyA=e.id<t.id?e:t,o.bodyB=e.id<t.id?t:e,o.parentA=o.bodyA.parent,o.parentB=o.bodyB.parent),e=o.bodyA,t=o.bodyB,c=r.overlap<a.overlap?r:a;var u=o.normal,p=o.tangent,m=o.penetration,f=o.supports,g=c.overlap,v=c.axis,y=v.x,x=v.y;y*(t.position.x-e.position.x)+x*(t.position.y-e.position.y)>=0&&(y=-y,x=-x),u.x=y,u.y=x,p.x=-x,p.y=y,m.x=y*g,m.y=x*g,o.depth=g;var h=i._findSupports(e,t,u,1),b=0;if(s.contains(e.vertices,h[0])&&(f[b++]=h[0]),s.contains(e.vertices,h[1])&&(f[b++]=h[1]),b<2){var w=i._findSupports(t,e,u,-1);s.contains(t.vertices,w[0])&&(f[b++]=w[0]),b<2&&s.contains(t.vertices,w[1])&&(f[b++]=w[1])}return 0===b&&(f[b++]=h[0]),o.supportCount=b,o},i._overlapAxes=function(e,t,n,i){var o,r,a,s,l,c,d=t.length,u=n.length,p=t[0].x,m=t[0].y,f=n[0].x,g=n[0].y,v=i.length,y=Number.MAX_VALUE,x=0;for(l=0;l<v;l++){var h=i[l],b=h.x,w=h.y,S=p*b+m*w,k=f*b+g*w,P=S,A=k;for(c=1;c<d;c+=1)(s=t[c].x*b+t[c].y*w)>P?P=s:s<S&&(S=s);for(c=1;c<u;c+=1)(s=n[c].x*b+n[c].y*w)>A?A=s:s<k&&(k=s);if((o=(r=P-k)<(a=A-S)?r:a)<y&&(y=o,x=l,o<=0))break}e.axis=i[x],e.overlap=y},i._findSupports=function(e,t,n,i){var r,a,s,l=t.vertices,c=l.length,d=e.position.x,u=e.position.y,p=n.x*i,m=n.y*i,f=l[0],g=f,v=p*(d-g.x)+m*(u-g.y);for(s=1;s<c;s+=1)(a=p*(d-(g=l[s]).x)+m*(u-g.y))<v&&(v=a,f=g);return v=p*(d-(r=l[(c+f.index-1)%c]).x)+m*(u-r.y),p*(d-(g=l[(f.index+1)%c]).x)+m*(u-g.y)<v?(o[0]=f,o[1]=g,o):(o[0]=f,o[1]=r,o)}},function(e,t,n){var i={};e.exports=i;var o=n(16);i.create=function(e,t){var n=e.bodyA,r=e.bodyB,a={id:i.id(n,r),bodyA:n,bodyB:r,collision:e,contacts:[o.create(),o.create()],contactCount:0,separation:0,isActive:!0,isSensor:n.isSensor||r.isSensor,timeCreated:t,timeUpdated:t,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return i.update(a,e,t),a},i.update=function(e,t,n){var i=t.supports,o=t.supportCount,r=e.contacts,a=t.parentA,s=t.parentB;e.isActive=!0,e.timeUpdated=n,e.collision=t,e.separation=t.depth,e.inverseMass=a.inverseMass+s.inverseMass,e.friction=a.friction<s.friction?a.friction:s.friction,e.frictionStatic=a.frictionStatic>s.frictionStatic?a.frictionStatic:s.frictionStatic,e.restitution=a.restitution>s.restitution?a.restitution:s.restitution,e.slop=a.slop>s.slop?a.slop:s.slop,e.contactCount=o,t.pair=e;var l=i[0],c=r[0],d=i[1],u=r[1];u.vertex!==l&&c.vertex!==d||(r[1]=c,r[0]=c=u,u=r[1]),c.vertex=l,u.vertex=d},i.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.contactCount=0)},i.id=function(e,t){return e.id<t.id?e.id.toString(36)+":"+t.id.toString(36):t.id.toString(36)+":"+e.id.toString(36)}},function(e,t,n){var i={};e.exports=i;var o=n(3),r=n(2),a=n(7),s=n(1),l=n(11),c=n(0);i._warming=.4,i._torqueDampen=1,i._minLength=1e-6,i.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var n=t.bodyA?r.add(t.bodyA.position,t.pointA):t.pointA,i=t.bodyB?r.add(t.bodyB.position,t.pointB):t.pointB,o=r.magnitude(r.sub(n,i));t.length=void 0!==t.length?t.length:o,t.id=t.id||c.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var a={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(a.type="pin",a.anchors=!1):t.stiffness<.9&&(a.type="spring"),t.render=c.extend(a,t.render),t},i.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var n=e[t],i=n.constraintImpulse;n.isStatic||0===i.x&&0===i.y&&0===i.angle||(n.position.x+=i.x,n.position.y+=i.y,n.angle+=i.angle)}},i.solveAll=function(e,t){for(var n=c.clamp(t/c._baseDelta,0,1),o=0;o<e.length;o+=1){var r=e[o],a=!r.bodyA||r.bodyA&&r.bodyA.isStatic,s=!r.bodyB||r.bodyB&&r.bodyB.isStatic;(a||s)&&i.solve(e[o],n)}for(o=0;o<e.length;o+=1)a=!(r=e[o]).bodyA||r.bodyA&&r.bodyA.isStatic,s=!r.bodyB||r.bodyB&&r.bodyB.isStatic,a||s||i.solve(e[o],n)},i.solve=function(e,t){var n=e.bodyA,o=e.bodyB,a=e.pointA,s=e.pointB;if(n||o){n&&!n.isStatic&&(r.rotate(a,n.angle-e.angleA,a),e.angleA=n.angle),o&&!o.isStatic&&(r.rotate(s,o.angle-e.angleB,s),e.angleB=o.angle);var l=a,c=s;if(n&&(l=r.add(n.position,a)),o&&(c=r.add(o.position,s)),l&&c){var d=r.sub(l,c),u=r.magnitude(d);u<i._minLength&&(u=i._minLength);var p,m,f,g,v,y=(u-e.length)/u,x=e.stiffness>=1||0===e.length?e.stiffness*t:e.stiffness*t*t,h=e.damping*t,b=r.mult(d,y*x),w=(n?n.inverseMass:0)+(o?o.inverseMass:0),S=w+((n?n.inverseInertia:0)+(o?o.inverseInertia:0));if(h>0){var k=r.create();f=r.div(d,u),v=r.sub(o&&r.sub(o.position,o.positionPrev)||k,n&&r.sub(n.position,n.positionPrev)||k),g=r.dot(f,v)}n&&!n.isStatic&&(m=n.inverseMass/w,n.constraintImpulse.x-=b.x*m,n.constraintImpulse.y-=b.y*m,n.position.x-=b.x*m,n.position.y-=b.y*m,h>0&&(n.positionPrev.x-=h*f.x*g*m,n.positionPrev.y-=h*f.y*g*m),p=r.cross(a,b)/S*i._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=p,n.angle-=p),o&&!o.isStatic&&(m=o.inverseMass/w,o.constraintImpulse.x+=b.x*m,o.constraintImpulse.y+=b.y*m,o.position.x+=b.x*m,o.position.y+=b.y*m,h>0&&(o.positionPrev.x+=h*f.x*g*m,o.positionPrev.y+=h*f.y*g*m),p=r.cross(s,b)/S*i._torqueDampen*o.inverseInertia*(1-e.angularStiffness),o.constraintImpulse.angle+=p,o.angle+=p)}}},i.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],c=n.constraintImpulse;if(!(n.isStatic||0===c.x&&0===c.y&&0===c.angle)){a.set(n,!1);for(var d=0;d<n.parts.length;d++){var u=n.parts[d];o.translate(u.vertices,c),d>0&&(u.position.x+=c.x,u.position.y+=c.y),0!==c.angle&&(o.rotate(u.vertices,c.angle,n.position),l.rotate(u.axes,c.angle),d>0&&r.rotateAbout(u.position,c.angle,n.position,u.position)),s.update(u.bounds,u.vertices,n.velocity)}c.angle*=i._warming,c.x*=i._warming,c.y*=i._warming}}},i.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),y:(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0)}},i.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),y:(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0)}},i.currentLength=function(e){var t=(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),n=(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0),i=t-((e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0)),o=n-((e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0));return Math.sqrt(i*i+o*o)}},function(e,t,n){var i={};e.exports=i;var o=n(2),r=n(0);i.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var i=(n+1)%e.length,a=o.normalise({x:e[i].y-e[n].y,y:e[n].x-e[i].x}),s=0===a.y?1/0:a.x/a.y;t[s=s.toFixed(3).toString()]=a}return r.values(t)},i.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),i=Math.sin(t),o=0;o<e.length;o++){var r,a=e[o];r=a.x*n-a.y*i,a.y=a.x*i+a.y*n,a.x=r}}},function(e,t,n){var i={};e.exports=i;var o=n(3),r=n(0),a=n(4),s=n(1),l=n(2);i.rectangle=function(e,t,n,i,s){s=s||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:o.fromPath("L 0 0 L "+n+" 0 L "+n+" "+i+" L 0 "+i)};if(s.chamfer){var c=s.chamfer;l.vertices=o.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete s.chamfer}return a.create(r.extend({},l,s))},i.trapezoid=function(e,t,n,i,s,l){l=l||{},s>=1&&r.warn("Bodies.trapezoid: slope parameter must be < 1.");var c,d=n*(s*=.5),u=d+(1-2*s)*n,p=u+d;c=s<.5?"L 0 0 L "+d+" "+-i+" L "+u+" "+-i+" L "+p+" 0":"L 0 0 L "+u+" "+-i+" L "+p+" 0";var m={label:"Trapezoid Body",position:{x:e,y:t},vertices:o.fromPath(c)};if(l.chamfer){var f=l.chamfer;m.vertices=o.chamfer(m.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete l.chamfer}return a.create(r.extend({},m,l))},i.circle=function(e,t,n,o,a){o=o||{};var s={label:"Circle Body",circleRadius:n};a=a||25;var l=Math.ceil(Math.max(10,Math.min(a,n)));return l%2==1&&(l+=1),i.polygon(e,t,l,n,r.extend({},s,o))},i.polygon=function(e,t,n,s,l){if(l=l||{},n<3)return i.circle(e,t,s,l);for(var c=2*Math.PI/n,d="",u=.5*c,p=0;p<n;p+=1){var m=u+p*c,f=Math.cos(m)*s,g=Math.sin(m)*s;d+="L "+f.toFixed(3)+" "+g.toFixed(3)+" "}var v={label:"Polygon Body",position:{x:e,y:t},vertices:o.fromPath(d)};if(l.chamfer){var y=l.chamfer;v.vertices=o.chamfer(v.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete l.chamfer}return a.create(r.extend({},v,l))},i.fromVertices=function(e,t,n,i,c,d,u,p){var m,f,g,v,y,x,h,b,w,S,k=r.getDecomp();for(m=Boolean(k&&k.quickDecomp),i=i||{},g=[],c=void 0!==c&&c,d=void 0!==d?d:.01,u=void 0!==u?u:10,p=void 0!==p?p:.01,r.isArray(n[0])||(n=[n]),w=0;w<n.length;w+=1)if(y=n[w],!(v=o.isConvex(y))&&!m&&r.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),v||!m)y=v?o.clockwiseSort(y):o.hull(y),g.push({position:{x:e,y:t},vertices:y});else{var P=y.map((function(e){return[e.x,e.y]}));k.makeCCW(P),!1!==d&&k.removeCollinearPoints(P,d),!1!==p&&k.removeDuplicatePoints&&k.removeDuplicatePoints(P,p);var A=k.quickDecomp(P);for(x=0;x<A.length;x++){var M=A[x].map((function(e){return{x:e[0],y:e[1]}}));u>0&&o.area(M)<u||g.push({position:o.centre(M),vertices:M})}}for(x=0;x<g.length;x++)g[x]=a.create(r.extend(g[x],i));if(c)for(x=0;x<g.length;x++){var C=g[x];for(h=x+1;h<g.length;h++){var B=g[h];if(s.overlaps(C.bounds,B.bounds)){var j=C.vertices,_=B.vertices;for(b=0;b<C.vertices.length;b++)for(S=0;S<B.vertices.length;S++){var I=l.magnitudeSquared(l.sub(j[(b+1)%j.length],_[S])),T=l.magnitudeSquared(l.sub(j[b],_[(S+1)%_.length]));I<5&&T<5&&(j[b].isInternal=!0,_[S].isInternal=!0)}}}}return g.length>1?(f=a.create(r.extend({parts:g.slice(0)},i)),a.setPosition(f,{x:e,y:t}),f):g[0]}},function(e,t,n){var i={};e.exports=i;var o=n(0),r=n(8);i.create=function(e){return o.extend({bodies:[],collisions:[],pairs:null},e)},i.setBodies=function(e,t){e.bodies=t.slice(0)},i.clear=function(e){e.bodies=[],e.collisions=[]},i.collisions=function(e){var t,n,o=e.pairs,a=e.bodies,s=a.length,l=i.canCollide,c=r.collides,d=e.collisions,u=0;for(a.sort(i._compareBoundsX),t=0;t<s;t++){var p=a[t],m=p.bounds,f=p.bounds.max.x,g=p.bounds.max.y,v=p.bounds.min.y,y=p.isStatic||p.isSleeping,x=p.parts.length,h=1===x;for(n=t+1;n<s;n++){var b=a[n];if((B=b.bounds).min.x>f)break;if(!(g<B.min.y||v>B.max.y)&&(!y||!b.isStatic&&!b.isSleeping)&&l(p.collisionFilter,b.collisionFilter)){var w=b.parts.length;if(h&&1===w)(M=c(p,b,o))&&(d[u++]=M);else for(var S=w>1?1:0,k=x>1?1:0;k<x;k++)for(var P=p.parts[k],A=(m=P.bounds,S);A<w;A++){var M,C=b.parts[A],B=C.bounds;m.min.x>B.max.x||m.max.x<B.min.x||m.max.y<B.min.y||m.min.y>B.max.y||(M=c(P,C,o))&&(d[u++]=M)}}}}return d.length!==u&&(d.length=u),d},i.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:!!(e.mask&t.category)&&!!(t.mask&e.category)},i._compareBoundsX=function(e,t){return e.bounds.min.x-t.bounds.min.x}},function(e,t,n){var i={};e.exports=i;var o=n(0);i.create=function(e){var t={};return e||o.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=parseInt(t.element.getAttribute("data-pixel-ratio"),10)||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var n=i._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&(t.button=0,e.preventDefault()),t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var n=i._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var n=i._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&e.preventDefault(),t.button=-1,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault(),t.sourceEvents.mousewheel=e},i.setElement(t,t.element),t},i.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove,{passive:!0}),t.addEventListener("mousedown",e.mousedown,{passive:!0}),t.addEventListener("mouseup",e.mouseup,{passive:!0}),t.addEventListener("wheel",e.mousewheel,{passive:!1}),t.addEventListener("touchmove",e.mousemove,{passive:!1}),t.addEventListener("touchstart",e.mousedown,{passive:!1}),t.addEventListener("touchend",e.mouseup,{passive:!1})},i.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},i.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},i.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},i._getRelativeMousePosition=function(e,t,n){var i,o,r=t.getBoundingClientRect(),a=document.documentElement||document.body.parentNode||document.body,s=void 0!==window.pageXOffset?window.pageXOffset:a.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:a.scrollTop,c=e.changedTouches;return c?(i=c[0].pageX-r.left-s,o=c[0].pageY-r.top-l):(i=e.pageX-r.left-s,o=e.pageY-r.top-l),{x:i/(t.clientWidth/(t.width||t.clientWidth)*n),y:o/(t.clientHeight/(t.height||t.clientHeight)*n)}}},function(e,t,n){var i={};e.exports=i;var o=n(0);i._registry={},i.register=function(e){if(i.isPlugin(e)||o.warn("Plugin.register:",i.toString(e),"does not implement all required fields."),e.name in i._registry){var t=i._registry[e.name],n=i.versionParse(e.version).number,r=i.versionParse(t.version).number;n>r?(o.warn("Plugin.register:",i.toString(t),"was upgraded to",i.toString(e)),i._registry[e.name]=e):n<r?o.warn("Plugin.register:",i.toString(t),"can not be downgraded to",i.toString(e)):e!==t&&o.warn("Plugin.register:",i.toString(e),"is already registered to different plugin object")}else i._registry[e.name]=e;return e},i.resolve=function(e){return i._registry[i.dependencyParse(e).name]},i.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},i.isPlugin=function(e){return e&&e.name&&e.version&&e.install},i.isUsed=function(e,t){return e.used.indexOf(t)>-1},i.isFor=function(e,t){var n=e.for&&i.dependencyParse(e.for);return!e.for||t.name===n.name&&i.versionSatisfies(t.version,n.range)},i.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var n=i.dependencies(e),r=o.topologicalSort(n),a=[],s=0;s<r.length;s+=1)if(r[s]!==e.name){var l=i.resolve(r[s]);l?i.isUsed(e,l.name)||(i.isFor(l,e)||(o.warn("Plugin.use:",i.toString(l),"is for",l.for,"but installed on",i.toString(e)+"."),l._warned=!0),l.install?l.install(e):(o.warn("Plugin.use:",i.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(a.push(" "+i.toString(l)),delete l._warned):a.push(" "+i.toString(l)),e.used.push(l.name)):a.push(" "+r[s])}a.length>0&&o.info(a.join("  "))}else o.warn("Plugin.use:",i.toString(e),"does not specify any dependencies to install.")},i.dependencies=function(e,t){var n=i.dependencyParse(e),r=n.name;if(!(r in(t=t||{}))){e=i.resolve(e)||e,t[r]=o.map(e.uses||[],(function(t){i.isPlugin(t)&&i.register(t);var r=i.dependencyParse(t),a=i.resolve(t);return a&&!i.versionSatisfies(a.version,r.range)?(o.warn("Plugin.dependencies:",i.toString(a),"does not satisfy",i.toString(r),"used by",i.toString(n)+"."),a._warned=!0,e._warned=!0):a||(o.warn("Plugin.dependencies:",i.toString(t),"used by",i.toString(n),"could not be resolved."),e._warned=!0),r.name}));for(var a=0;a<t[r].length;a+=1)i.dependencies(t[r][a],t);return t}},i.dependencyParse=function(e){return o.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(e)||o.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},i.versionParse=function(e){var t=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;t.test(e)||o.warn("Plugin.versionParse:",e,"is not a valid version or range.");var n=t.exec(e),i=Number(n[4]),r=Number(n[5]),a=Number(n[6]);return{isRange:Boolean(n[1]||n[2]),version:n[3],range:e,operator:n[1]||n[2]||"",major:i,minor:r,patch:a,parts:[i,r,a],prerelease:n[7],number:1e8*i+1e4*r+a}},i.versionSatisfies=function(e,t){t=t||"*";var n=i.versionParse(t),o=i.versionParse(e);if(n.isRange){if("*"===n.operator||"*"===e)return!0;if(">"===n.operator)return o.number>n.number;if(">="===n.operator)return o.number>=n.number;if("~"===n.operator)return o.major===n.major&&o.minor===n.minor&&o.patch>=n.patch;if("^"===n.operator)return n.major>0?o.major===n.major&&o.number>=n.number:n.minor>0?o.minor===n.minor&&o.patch>=n.patch:o.patch===n.patch}return e===t||"*"===e}},function(e,t){var n={};e.exports=n,n.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}},function(e,t,n){var i={};e.exports=i;var o=n(7),r=n(18),a=n(13),s=n(19),l=n(5),c=n(6),d=n(10),u=n(0),p=n(4);i._deltaMax=1e3/60,i.create=function(e){e=e||{};var t=u.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},e);return t.world=e.world||c.create({label:"World"}),t.pairs=e.pairs||s.create(),t.detector=e.detector||a.create(),t.detector.pairs=t.pairs,t.grid={buckets:[]},t.world.gravity=t.gravity,t.broadphase=t.grid,t.metrics={},t},i.update=function(e,t){var n,p=u.now(),m=e.world,f=e.detector,g=e.pairs,v=e.timing,y=v.timestamp;t>i._deltaMax&&u.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",i._deltaMax.toFixed(3),"ms."),t=void 0!==t?t:u._baseDelta,t*=v.timeScale,v.timestamp+=t,v.lastDelta=t;var x={timestamp:v.timestamp,delta:t};l.trigger(e,"beforeUpdate",x);var h=c.allBodies(m),b=c.allConstraints(m);for(m.isModified&&(a.setBodies(f,h),c.setModified(m,!1,!1,!0)),e.enableSleeping&&o.update(h,t),i._bodiesApplyGravity(h,e.gravity),t>0&&i._bodiesUpdate(h,t),l.trigger(e,"beforeSolve",x),d.preSolveAll(h),n=0;n<e.constraintIterations;n++)d.solveAll(b,t);d.postSolveAll(h);var w=a.collisions(f);s.update(g,w,y),e.enableSleeping&&o.afterCollisions(g.list),g.collisionStart.length>0&&l.trigger(e,"collisionStart",{pairs:g.collisionStart,timestamp:v.timestamp,delta:t});var S=u.clamp(20/e.positionIterations,0,1);for(r.preSolvePosition(g.list),n=0;n<e.positionIterations;n++)r.solvePosition(g.list,t,S);for(r.postSolvePosition(h),d.preSolveAll(h),n=0;n<e.constraintIterations;n++)d.solveAll(b,t);for(d.postSolveAll(h),r.preSolveVelocity(g.list),n=0;n<e.velocityIterations;n++)r.solveVelocity(g.list,t);return i._bodiesUpdateVelocities(h),g.collisionActive.length>0&&l.trigger(e,"collisionActive",{pairs:g.collisionActive,timestamp:v.timestamp,delta:t}),g.collisionEnd.length>0&&l.trigger(e,"collisionEnd",{pairs:g.collisionEnd,timestamp:v.timestamp,delta:t}),i._bodiesClearForces(h),l.trigger(e,"afterUpdate",x),e.timing.lastElapsed=u.now()-p,e},i.merge=function(e,t){if(u.extend(e,t),t.world){e.world=t.world,i.clear(e);for(var n=c.allBodies(e.world),r=0;r<n.length;r++){var a=n[r];o.set(a,!1),a.id=u.nextId()}}},i.clear=function(e){s.clear(e.pairs),a.clear(e.detector)},i._bodiesClearForces=function(e){for(var t=e.length,n=0;n<t;n++){var i=e[n];i.force.x=0,i.force.y=0,i.torque=0}},i._bodiesApplyGravity=function(e,t){var n=void 0!==t.scale?t.scale:.001,i=e.length;if((0!==t.x||0!==t.y)&&0!==n)for(var o=0;o<i;o++){var r=e[o];r.isStatic||r.isSleeping||(r.force.y+=r.mass*t.y*n,r.force.x+=r.mass*t.x*n)}},i._bodiesUpdate=function(e,t){for(var n=e.length,i=0;i<n;i++){var o=e[i];o.isStatic||o.isSleeping||p.update(o,t)}},i._bodiesUpdateVelocities=function(e){for(var t=e.length,n=0;n<t;n++)p.updateVelocities(e[n])}},function(e,t,n){var i={};e.exports=i;var o=n(3),r=n(0),a=n(1);i._restingThresh=2,i._restingThreshTangent=Math.sqrt(6),i._positionDampen=.9,i._positionWarming=.8,i._frictionNormalMultiplier=5,i._frictionMaxStatic=Number.MAX_VALUE,i.preSolvePosition=function(e){var t,n,i,o=e.length;for(t=0;t<o;t++)(n=e[t]).isActive&&(i=n.contactCount,n.collision.parentA.totalContacts+=i,n.collision.parentB.totalContacts+=i)},i.solvePosition=function(e,t,n){var o,a,s,l,c,d,u,p,m=i._positionDampen*(n||1),f=r.clamp(t/r._baseDelta,0,1),g=e.length;for(o=0;o<g;o++)(a=e[o]).isActive&&!a.isSensor&&(l=(s=a.collision).parentA,c=s.parentB,d=s.normal,a.separation=s.depth+d.x*(c.positionImpulse.x-l.positionImpulse.x)+d.y*(c.positionImpulse.y-l.positionImpulse.y));for(o=0;o<g;o++)(a=e[o]).isActive&&!a.isSensor&&(l=(s=a.collision).parentA,c=s.parentB,d=s.normal,p=a.separation-a.slop*f,(l.isStatic||c.isStatic)&&(p*=2),l.isStatic||l.isSleeping||(u=m/l.totalContacts,l.positionImpulse.x+=d.x*p*u,l.positionImpulse.y+=d.y*p*u),c.isStatic||c.isSleeping||(u=m/c.totalContacts,c.positionImpulse.x-=d.x*p*u,c.positionImpulse.y-=d.y*p*u))},i.postSolvePosition=function(e){for(var t=i._positionWarming,n=e.length,r=o.translate,s=a.update,l=0;l<n;l++){var c=e[l],d=c.positionImpulse,u=d.x,p=d.y,m=c.velocity;if(c.totalContacts=0,0!==u||0!==p){for(var f=0;f<c.parts.length;f++){var g=c.parts[f];r(g.vertices,d),s(g.bounds,g.vertices,m),g.position.x+=u,g.position.y+=p}c.positionPrev.x+=u,c.positionPrev.y+=p,u*m.x+p*m.y<0?(d.x=0,d.y=0):(d.x*=t,d.y*=t)}}},i.preSolveVelocity=function(e){var t,n,i=e.length;for(t=0;t<i;t++){var o=e[t];if(o.isActive&&!o.isSensor){var r=o.contacts,a=o.contactCount,s=o.collision,l=s.parentA,c=s.parentB,d=s.normal,u=s.tangent;for(n=0;n<a;n++){var p=r[n],m=p.vertex,f=p.normalImpulse,g=p.tangentImpulse;if(0!==f||0!==g){var v=d.x*f+u.x*g,y=d.y*f+u.y*g;l.isStatic||l.isSleeping||(l.positionPrev.x+=v*l.inverseMass,l.positionPrev.y+=y*l.inverseMass,l.anglePrev+=l.inverseInertia*((m.x-l.position.x)*y-(m.y-l.position.y)*v)),c.isStatic||c.isSleeping||(c.positionPrev.x-=v*c.inverseMass,c.positionPrev.y-=y*c.inverseMass,c.anglePrev-=c.inverseInertia*((m.x-c.position.x)*y-(m.y-c.position.y)*v))}}}}},i.solveVelocity=function(e,t){var n,o,a,s,l=t/r._baseDelta,c=l*l*l,d=-i._restingThresh*l,u=i._restingThreshTangent,p=i._frictionNormalMultiplier*l,m=i._frictionMaxStatic,f=e.length;for(a=0;a<f;a++){var g=e[a];if(g.isActive&&!g.isSensor){var v=g.collision,y=v.parentA,x=v.parentB,h=v.normal.x,b=v.normal.y,w=v.tangent.x,S=v.tangent.y,k=g.inverseMass,P=g.friction*g.frictionStatic*p,A=g.contacts,M=g.contactCount,C=1/M,B=y.position.x-y.positionPrev.x,j=y.position.y-y.positionPrev.y,_=y.angle-y.anglePrev,I=x.position.x-x.positionPrev.x,T=x.position.y-x.positionPrev.y,R=x.angle-x.anglePrev;for(s=0;s<M;s++){var N=A[s],D=N.vertex,L=D.x-y.position.x,E=D.y-y.position.y,F=D.x-x.position.x,V=D.y-x.position.y,q=B-E*_-(I-V*R),H=j+L*_-(T+F*R),O=h*q+b*H,W=w*q+S*H,z=g.separation+O,U=Math.min(z,1),G=(U=z<0?0:U)*P;W<-G||W>G?(o=W>0?W:-W,(n=g.friction*(W>0?1:-1)*c)<-o?n=-o:n>o&&(n=o)):(n=W,o=m);var $=L*b-E*h,Q=F*b-V*h,J=C/(k+y.inverseInertia*$*$+x.inverseInertia*Q*Q),X=(1+g.restitution)*O*J;if(n*=J,O<d)N.normalImpulse=0;else{var Z=N.normalImpulse;N.normalImpulse+=X,N.normalImpulse>0&&(N.normalImpulse=0),X=N.normalImpulse-Z}if(W<-u||W>u)N.tangentImpulse=0;else{var Y=N.tangentImpulse;N.tangentImpulse+=n,N.tangentImpulse<-o&&(N.tangentImpulse=-o),N.tangentImpulse>o&&(N.tangentImpulse=o),n=N.tangentImpulse-Y}var K=h*X+w*n,ee=b*X+S*n;y.isStatic||y.isSleeping||(y.positionPrev.x+=K*y.inverseMass,y.positionPrev.y+=ee*y.inverseMass,y.anglePrev+=(L*ee-E*K)*y.inverseInertia),x.isStatic||x.isSleeping||(x.positionPrev.x-=K*x.inverseMass,x.positionPrev.y-=ee*x.inverseMass,x.anglePrev-=(F*ee-V*K)*x.inverseInertia)}}}}},function(e,t,n){var i={};e.exports=i;var o=n(9),r=n(0);i.create=function(e){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},i.update=function(e,t,n){var i,r,a,s=o.update,l=o.create,c=o.setActive,d=e.table,u=e.list,p=u.length,m=p,f=e.collisionStart,g=e.collisionEnd,v=e.collisionActive,y=t.length,x=0,h=0,b=0;for(a=0;a<y;a++)(r=(i=t[a]).pair)?(r.isActive&&(v[b++]=r),s(r,i,n)):(d[(r=l(i,n)).id]=r,f[x++]=r,u[m++]=r);for(m=0,p=u.length,a=0;a<p;a++)(r=u[a]).timeUpdated>=n?u[m++]=r:(c(r,!1,n),r.collision.bodyA.sleepCounter>0&&r.collision.bodyB.sleepCounter>0?u[m++]=r:(g[h++]=r,delete d[r.id]));u.length!==m&&(u.length=m),f.length!==x&&(f.length=x),g.length!==h&&(g.length=h),v.length!==b&&(v.length=b)},i.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},function(e,t,n){var i=e.exports=n(21);i.Axes=n(11),i.Bodies=n(12),i.Body=n(4),i.Bounds=n(1),i.Collision=n(8),i.Common=n(0),i.Composite=n(6),i.Composites=n(22),i.Constraint=n(10),i.Contact=n(16),i.Detector=n(13),i.Engine=n(17),i.Events=n(5),i.Grid=n(23),i.Mouse=n(14),i.MouseConstraint=n(24),i.Pair=n(9),i.Pairs=n(19),i.Plugin=n(15),i.Query=n(25),i.Render=n(26),i.Resolver=n(18),i.Runner=n(27),i.SAT=n(28),i.Sleeping=n(7),i.Svg=n(29),i.Vector=n(2),i.Vertices=n(3),i.World=n(30),i.Engine.run=i.Runner.run,i.Common.deprecated(i.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")},function(e,t,n){var i={};e.exports=i;var o=n(15),r=n(0);i.name="matter-js",i.version="0.20.0",i.uses=[],i.used=[],i.use=function(){o.use(i,Array.prototype.slice.call(arguments))},i.before=function(e,t){return e=e.replace(/^Matter./,""),r.chainPathBefore(i,e,t)},i.after=function(e,t){return e=e.replace(/^Matter./,""),r.chainPathAfter(i,e,t)}},function(e,t,n){var i={};e.exports=i;var o=n(6),r=n(10),a=n(0),s=n(4),l=n(12),c=a.deprecated;i.stack=function(e,t,n,i,r,a,l){for(var c,d=o.create({label:"Stack"}),u=e,p=t,m=0,f=0;f<i;f++){for(var g=0,v=0;v<n;v++){var y=l(u,p,v,f,c,m);if(y){var x=y.bounds.max.y-y.bounds.min.y,h=y.bounds.max.x-y.bounds.min.x;x>g&&(g=x),s.translate(y,{x:.5*h,y:.5*x}),u=y.bounds.max.x+r,o.addBody(d,y),c=y,m+=1}else u+=r}p+=g+a,u=e}return d},i.chain=function(e,t,n,i,s,l){for(var c=e.bodies,d=1;d<c.length;d++){var u=c[d-1],p=c[d],m=u.bounds.max.y-u.bounds.min.y,f=u.bounds.max.x-u.bounds.min.x,g=p.bounds.max.y-p.bounds.min.y,v={bodyA:u,pointA:{x:f*t,y:m*n},bodyB:p,pointB:{x:(p.bounds.max.x-p.bounds.min.x)*i,y:g*s}},y=a.extend(v,l);o.addConstraint(e,r.create(y))}return e.label+=" Chain",e},i.mesh=function(e,t,n,i,s){var l,c,d,u,p,m=e.bodies;for(l=0;l<n;l++){for(c=1;c<t;c++)d=m[c-1+l*t],u=m[c+l*t],o.addConstraint(e,r.create(a.extend({bodyA:d,bodyB:u},s)));if(l>0)for(c=0;c<t;c++)d=m[c+(l-1)*t],u=m[c+l*t],o.addConstraint(e,r.create(a.extend({bodyA:d,bodyB:u},s))),i&&c>0&&(p=m[c-1+(l-1)*t],o.addConstraint(e,r.create(a.extend({bodyA:p,bodyB:u},s)))),i&&c<t-1&&(p=m[c+1+(l-1)*t],o.addConstraint(e,r.create(a.extend({bodyA:p,bodyB:u},s))))}return e.label+=" Mesh",e},i.pyramid=function(e,t,n,o,r,a,l){return i.stack(e,t,n,o,r,a,(function(t,i,a,c,d,u){var p=Math.min(o,Math.ceil(n/2)),m=d?d.bounds.max.x-d.bounds.min.x:0;if(!(c>p||a<(c=p-c)||a>n-1-c))return 1===u&&s.translate(d,{x:(a+(n%2==1?1:-1))*m,y:0}),l(e+(d?a*m:0)+a*r,i,a,c,d,u)}))},i.newtonsCradle=function(e,t,n,i,a){for(var s=o.create({label:"Newtons Cradle"}),c=0;c<n;c++){var d=l.circle(e+c*(1.9*i),t+a,i,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),u=r.create({pointA:{x:e+c*(1.9*i),y:t},bodyB:d});o.addBody(s,d),o.addConstraint(s,u)}return s},c(i,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example"),i.car=function(e,t,n,i,a){var c=s.nextGroup(!0),d=.5*-n+20,u=.5*n-20,p=o.create({label:"Car"}),m=l.rectangle(e,t,n,i,{collisionFilter:{group:c},chamfer:{radius:.5*i},density:2e-4}),f=l.circle(e+d,t+0,a,{collisionFilter:{group:c},friction:.8}),g=l.circle(e+u,t+0,a,{collisionFilter:{group:c},friction:.8}),v=r.create({bodyB:m,pointB:{x:d,y:0},bodyA:f,stiffness:1,length:0}),y=r.create({bodyB:m,pointB:{x:u,y:0},bodyA:g,stiffness:1,length:0});return o.addBody(p,m),o.addBody(p,f),o.addBody(p,g),o.addConstraint(p,v),o.addConstraint(p,y),p},c(i,"car","Composites.car  moved to car example"),i.softBody=function(e,t,n,o,r,s,c,d,u,p){u=a.extend({inertia:1/0},u),p=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var m=i.stack(e,t,n,o,r,s,(function(e,t){return l.circle(e,t,d,u)}));return i.mesh(m,n,o,c,p),m.label="Soft Body",m},c(i,"softBody","Composites.softBody  moved to softBody and cloth examples")},function(e,t,n){var i={};e.exports=i;var o=n(9),r=n(0),a=r.deprecated;i.create=function(e){return r.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},e)},i.update=function(e,t,n,o){var r,a,s,l,c,d=n.world,u=e.buckets,p=!1;for(r=0;r<t.length;r++){var m=t[r];if((!m.isSleeping||o)&&(!d.bounds||!(m.bounds.max.x<d.bounds.min.x||m.bounds.min.x>d.bounds.max.x||m.bounds.max.y<d.bounds.min.y||m.bounds.min.y>d.bounds.max.y))){var f=i._getRegion(e,m);if(!m.region||f.id!==m.region.id||o){m.region&&!o||(m.region=f);var g=i._regionUnion(f,m.region);for(a=g.startCol;a<=g.endCol;a++)for(s=g.startRow;s<=g.endRow;s++){l=u[c=i._getBucketId(a,s)];var v=a>=f.startCol&&a<=f.endCol&&s>=f.startRow&&s<=f.endRow,y=a>=m.region.startCol&&a<=m.region.endCol&&s>=m.region.startRow&&s<=m.region.endRow;!v&&y&&y&&l&&i._bucketRemoveBody(e,l,m),(m.region===f||v&&!y||o)&&(l||(l=i._createBucket(u,c)),i._bucketAddBody(e,l,m))}m.region=f,p=!0}}}p&&(e.pairsList=i._createActivePairsList(e))},a(i,"update","Grid.update  replaced by Matter.Detector"),i.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},a(i,"clear","Grid.clear  replaced by Matter.Detector"),i._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),o=Math.max(e.endCol,t.endCol),r=Math.min(e.startRow,t.startRow),a=Math.max(e.endRow,t.endRow);return i._createRegion(n,o,r,a)},i._getRegion=function(e,t){var n=t.bounds,o=Math.floor(n.min.x/e.bucketWidth),r=Math.floor(n.max.x/e.bucketWidth),a=Math.floor(n.min.y/e.bucketHeight),s=Math.floor(n.max.y/e.bucketHeight);return i._createRegion(o,r,a,s)},i._createRegion=function(e,t,n,i){return{id:e+","+t+","+n+","+i,startCol:e,endCol:t,startRow:n,endRow:i}},i._getBucketId=function(e,t){return"C"+e+"R"+t},i._createBucket=function(e,t){return e[t]=[]},i._bucketAddBody=function(e,t,n){var i,r=e.pairs,a=o.id,s=t.length;for(i=0;i<s;i++){var l=t[i];if(!(n.id===l.id||n.isStatic&&l.isStatic)){var c=a(n,l),d=r[c];d?d[2]+=1:r[c]=[n,l,1]}}t.push(n)},i._bucketRemoveBody=function(e,t,n){var i,a=e.pairs,s=o.id;t.splice(r.indexOf(t,n),1);var l=t.length;for(i=0;i<l;i++){var c=a[s(n,t[i])];c&&(c[2]-=1)}},i._createActivePairsList=function(e){var t,n,i=e.pairs,o=r.keys(i),a=o.length,s=[];for(n=0;n<a;n++)(t=i[o[n]])[2]>0?s.push(t):delete i[o[n]];return s}},function(e,t,n){var i={};e.exports=i;var o=n(3),r=n(7),a=n(14),s=n(5),l=n(13),c=n(10),d=n(6),u=n(0),p=n(1);i.create=function(e,t){var n=(e?e.mouse:null)||(t?t.mouse:null);n||(e&&e.render&&e.render.canvas?n=a.create(e.render.canvas):t&&t.element?n=a.create(t.element):(n=a.create(),u.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var o={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:c.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},r=u.extend(o,t);return s.on(e,"beforeUpdate",(function(){var t=d.allBodies(e.world);i.update(r,t),i._triggerEvents(r)})),r},i.update=function(e,t){var n=e.mouse,i=e.constraint,a=e.body;if(0===n.button){if(i.bodyB)r.set(i.bodyB,!1),i.pointA=n.position;else for(var c=0;c<t.length;c++)if(a=t[c],p.contains(a.bounds,n.position)&&l.canCollide(a.collisionFilter,e.collisionFilter))for(var d=a.parts.length>1?1:0;d<a.parts.length;d++){var u=a.parts[d];if(o.contains(u.vertices,n.position)){i.pointA=n.position,i.bodyB=e.body=a,i.pointB={x:n.position.x-a.position.x,y:n.position.y-a.position.y},i.angleB=a.angle,r.set(a,!1),s.trigger(e,"startdrag",{mouse:n,body:a});break}}}else i.bodyB=e.body=null,i.pointB=null,a&&s.trigger(e,"enddrag",{mouse:n,body:a})},i._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&s.trigger(e,"mousemove",{mouse:t}),n.mousedown&&s.trigger(e,"mousedown",{mouse:t}),n.mouseup&&s.trigger(e,"mouseup",{mouse:t}),a.clearSourceEvents(t)}},function(e,t,n){var i={};e.exports=i;var o=n(2),r=n(8),a=n(1),s=n(12),l=n(3);i.collides=function(e,t){for(var n=[],i=t.length,o=e.bounds,s=r.collides,l=a.overlaps,c=0;c<i;c++){var d=t[c],u=d.parts.length,p=1===u?0:1;if(l(d.bounds,o))for(var m=p;m<u;m++){var f=d.parts[m];if(l(f.bounds,o)){var g=s(f,e);if(g){n.push(g);break}}}}return n},i.ray=function(e,t,n,r){r=r||1e-100;for(var a=o.angle(t,n),l=o.magnitude(o.sub(t,n)),c=.5*(n.x+t.x),d=.5*(n.y+t.y),u=s.rectangle(c,d,l,r,{angle:a}),p=i.collides(u,e),m=0;m<p.length;m+=1){var f=p[m];f.body=f.bodyB=f.bodyA}return p},i.region=function(e,t,n){for(var i=[],o=0;o<e.length;o++){var r=e[o],s=a.overlaps(r.bounds,t);(s&&!n||!s&&n)&&i.push(r)}return i},i.point=function(e,t){for(var n=[],i=0;i<e.length;i++){var o=e[i];if(a.contains(o.bounds,t))for(var r=1===o.parts.length?0:1;r<o.parts.length;r++){var s=o.parts[r];if(a.contains(s.bounds,t)&&l.contains(s.vertices,t)){n.push(o);break}}}return n}},function(e,t,n){var i={};e.exports=i;var o=n(4),r=n(0),a=n(6),s=n(1),l=n(5),c=n(2),d=n(14);!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(r.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),i._goodFps=30,i._goodDelta=1e3/60,i.create=function(e){var t={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},n=r.extend(t,e);return n.canvas&&(n.canvas.width=n.options.width||n.canvas.width,n.canvas.height=n.options.height||n.canvas.height),n.mouse=e.mouse,n.engine=e.engine,n.canvas=n.canvas||p(n.options.width,n.options.height),n.context=n.canvas.getContext("2d"),n.textures={},n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.canvas.width,y:n.canvas.height}},n.controller=i,n.options.showBroadphase=!1,1!==n.options.pixelRatio&&i.setPixelRatio(n,n.options.pixelRatio),r.isElement(n.element)&&n.element.appendChild(n.canvas),n},i.run=function(t){!function o(r){t.frameRequestId=e(o),n(t,r),i.world(t,r),t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0),(t.options.showStats||t.options.showDebug)&&i.stats(t,t.context,r),(t.options.showPerformance||t.options.showDebug)&&i.performance(t,t.context,r),t.context.setTransform(1,0,0,1,0,0)}()},i.stop=function(e){t(e.frameRequestId)},i.setPixelRatio=function(e,t){var n=e.options,i=e.canvas;"auto"===t&&(t=m(i)),n.pixelRatio=t,i.setAttribute("data-pixel-ratio",t),i.width=n.width*t,i.height=n.height*t,i.style.width=n.width+"px",i.style.height=n.height+"px"},i.setSize=function(e,t,n){e.options.width=t,e.options.height=n,e.bounds.max.x=e.bounds.min.x+t,e.bounds.max.y=e.bounds.min.y+n,1!==e.options.pixelRatio?i.setPixelRatio(e,e.options.pixelRatio):(e.canvas.width=t,e.canvas.height=n)},i.lookAt=function(e,t,n,i){i=void 0===i||i,t=r.isArray(t)?t:[t],n=n||{x:0,y:0};for(var o={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},a=0;a<t.length;a+=1){var s=t[a],l=s.bounds?s.bounds.min:s.min||s.position||s,c=s.bounds?s.bounds.max:s.max||s.position||s;l&&c&&(l.x<o.min.x&&(o.min.x=l.x),c.x>o.max.x&&(o.max.x=c.x),l.y<o.min.y&&(o.min.y=l.y),c.y>o.max.y&&(o.max.y=c.y))}var u=o.max.x-o.min.x+2*n.x,p=o.max.y-o.min.y+2*n.y,m=e.canvas.height,f=e.canvas.width/m,g=u/p,v=1,y=1;g>f?y=g/f:v=f/g,e.options.hasBounds=!0,e.bounds.min.x=o.min.x,e.bounds.max.x=o.min.x+u*v,e.bounds.min.y=o.min.y,e.bounds.max.y=o.min.y+p*y,i&&(e.bounds.min.x+=.5*u-u*v*.5,e.bounds.max.x+=.5*u-u*v*.5,e.bounds.min.y+=.5*p-p*y*.5,e.bounds.max.y+=.5*p-p*y*.5),e.bounds.min.x-=n.x,e.bounds.max.x-=n.x,e.bounds.min.y-=n.y,e.bounds.max.y-=n.y,e.mouse&&(d.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),d.setOffset(e.mouse,e.bounds.min))},i.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,i=t/e.options.width,o=n/e.options.height;e.context.setTransform(e.options.pixelRatio/i,0,0,e.options.pixelRatio/o,0,0),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},i.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},i.world=function(e,t){var n,o=r.now(),u=e.engine,p=u.world,m=e.canvas,f=e.context,v=e.options,y=e.timing,x=a.allBodies(p),h=a.allConstraints(p),b=v.wireframes?v.wireframeBackground:v.background,w=[],S=[],k={timestamp:u.timing.timestamp};if(l.trigger(e,"beforeRender",k),e.currentBackground!==b&&g(e,b),f.globalCompositeOperation="source-in",f.fillStyle="transparent",f.fillRect(0,0,m.width,m.height),f.globalCompositeOperation="source-over",v.hasBounds){for(n=0;n<x.length;n++){var P=x[n];s.overlaps(P.bounds,e.bounds)&&w.push(P)}for(n=0;n<h.length;n++){var A=h[n],M=A.bodyA,C=A.bodyB,B=A.pointA,j=A.pointB;M&&(B=c.add(M.position,A.pointA)),C&&(j=c.add(C.position,A.pointB)),B&&j&&(s.contains(e.bounds,B)||s.contains(e.bounds,j))&&S.push(A)}i.startViewTransform(e),e.mouse&&(d.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.options.width,y:(e.bounds.max.y-e.bounds.min.y)/e.options.height}),d.setOffset(e.mouse,e.bounds.min))}else S=h,w=x,1!==e.options.pixelRatio&&e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0);!v.wireframes||u.enableSleeping&&v.showSleeping?i.bodies(e,w,f):(v.showConvexHulls&&i.bodyConvexHulls(e,w,f),i.bodyWireframes(e,w,f)),v.showBounds&&i.bodyBounds(e,w,f),(v.showAxes||v.showAngleIndicator)&&i.bodyAxes(e,w,f),v.showPositions&&i.bodyPositions(e,w,f),v.showVelocity&&i.bodyVelocity(e,w,f),v.showIds&&i.bodyIds(e,w,f),v.showSeparations&&i.separations(e,u.pairs.list,f),v.showCollisions&&i.collisions(e,u.pairs.list,f),v.showVertexNumbers&&i.vertexNumbers(e,w,f),v.showMousePosition&&i.mousePosition(e,e.mouse,f),i.constraints(S,f),v.hasBounds&&i.endViewTransform(e),l.trigger(e,"afterRender",k),y.lastElapsed=r.now()-o},i.stats=function(e,t,n){for(var i=e.engine,o=i.world,r=a.allBodies(o),s=0,l=0,c=0;c<r.length;c+=1)s+=r[c].parts.length;var d={Part:s,Body:r.length,Cons:a.allConstraints(o).length,Comp:a.allComposites(o).length,Pair:i.pairs.list.length};for(var u in t.fillStyle="#0e0f19",t.fillRect(l,0,302.5,44),t.font="12px Arial",t.textBaseline="top",t.textAlign="right",d){var p=d[u];t.fillStyle="#aaa",t.fillText(u,l+55,8),t.fillStyle="#eee",t.fillText(p,l+55,26),l+=55}},i.performance=function(e,t){var n=e.engine,o=e.timing,a=o.deltaHistory,s=o.elapsedHistory,l=o.timestampElapsedHistory,c=o.engineDeltaHistory,d=o.engineUpdatesHistory,p=o.engineElapsedHistory,m=n.timing.lastUpdatesPerFrame,f=n.timing.lastDelta,g=u(a),v=u(s),y=u(c),x=u(d),h=u(p),b=u(l)/g||0,w=Math.round(g/f),S=1e3/g||0,k=60,P=10,A=69;t.fillStyle="#0e0f19",t.fillRect(0,50,442,34),i.status(t,P,A,k,4,a.length,Math.round(S)+" fps",S/i._goodFps,(function(e){return a[e]/g-1})),i.status(t,82,A,k,4,c.length,f.toFixed(2)+" dt",i._goodDelta/f,(function(e){return c[e]/y-1})),i.status(t,154,A,k,4,d.length,m+" upf",Math.pow(r.clamp(x/w||1,0,1),4),(function(e){return d[e]/x-1})),i.status(t,226,A,k,4,p.length,h.toFixed(2)+" ut",1-m*h/i._goodFps,(function(e){return p[e]/h-1})),i.status(t,298,A,k,4,s.length,v.toFixed(2)+" rt",1-v/i._goodFps,(function(e){return s[e]/v-1})),i.status(t,370,A,k,4,l.length,b.toFixed(2)+" x",b*b*b,(function(e){return(l[e]/a[e]/b||0)-1}))},i.status=function(e,t,n,i,o,a,s,l,c){e.strokeStyle="#888",e.fillStyle="#444",e.lineWidth=1,e.fillRect(t,n+7,i,1),e.beginPath(),e.moveTo(t,n+7-o*r.clamp(.4*c(0),-2,2));for(var d=0;d<i;d+=1)e.lineTo(t+d,n+7-(d<a?o*r.clamp(.4*c(d),-2,2):0));e.stroke(),e.fillStyle="hsl("+r.clamp(25+95*l,0,120)+",100%,60%)",e.fillRect(t,n-7,4,4),e.font="12px Arial",e.textBaseline="middle",e.textAlign="right",e.fillStyle="#eee",e.fillText(s,t+i,n-5)},i.constraints=function(e,t){for(var n=t,i=0;i<e.length;i++){var o=e[i];if(o.render.visible&&o.pointA&&o.pointB){var a,s,l=o.bodyA,d=o.bodyB;if(a=l?c.add(l.position,o.pointA):o.pointA,"pin"===o.render.type)n.beginPath(),n.arc(a.x,a.y,3,0,2*Math.PI),n.closePath();else{if(s=d?c.add(d.position,o.pointB):o.pointB,n.beginPath(),n.moveTo(a.x,a.y),"spring"===o.render.type)for(var u,p=c.sub(s,a),m=c.perp(c.normalise(p)),f=Math.ceil(r.clamp(o.length/5,12,20)),g=1;g<f;g+=1)u=g%2==0?1:-1,n.lineTo(a.x+p.x*(g/f)+m.x*u*4,a.y+p.y*(g/f)+m.y*u*4);n.lineTo(s.x,s.y)}o.render.lineWidth&&(n.lineWidth=o.render.lineWidth,n.strokeStyle=o.render.strokeStyle,n.stroke()),o.render.anchors&&(n.fillStyle=o.render.strokeStyle,n.beginPath(),n.arc(a.x,a.y,3,0,2*Math.PI),n.arc(s.x,s.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},i.bodies=function(e,t,n){var i=n;e.engine;var o,r,a,s,l=e.options,c=l.showInternalEdges||!l.wireframes;for(a=0;a<t.length;a++)if((o=t[a]).render.visible)for(s=o.parts.length>1?1:0;s<o.parts.length;s++)if((r=o.parts[s]).render.visible){if(l.showSleeping&&o.isSleeping?i.globalAlpha=.5*r.render.opacity:1!==r.render.opacity&&(i.globalAlpha=r.render.opacity),r.render.sprite&&r.render.sprite.texture&&!l.wireframes){var d=r.render.sprite,u=f(e,d.texture);i.translate(r.position.x,r.position.y),i.rotate(r.angle),i.drawImage(u,u.width*-d.xOffset*d.xScale,u.height*-d.yOffset*d.yScale,u.width*d.xScale,u.height*d.yScale),i.rotate(-r.angle),i.translate(-r.position.x,-r.position.y)}else{if(r.circleRadius)i.beginPath(),i.arc(r.position.x,r.position.y,r.circleRadius,0,2*Math.PI);else{i.beginPath(),i.moveTo(r.vertices[0].x,r.vertices[0].y);for(var p=1;p<r.vertices.length;p++)!r.vertices[p-1].isInternal||c?i.lineTo(r.vertices[p].x,r.vertices[p].y):i.moveTo(r.vertices[p].x,r.vertices[p].y),r.vertices[p].isInternal&&!c&&i.moveTo(r.vertices[(p+1)%r.vertices.length].x,r.vertices[(p+1)%r.vertices.length].y);i.lineTo(r.vertices[0].x,r.vertices[0].y),i.closePath()}l.wireframes?(i.lineWidth=1,i.strokeStyle=e.options.wireframeStrokeStyle,i.stroke()):(i.fillStyle=r.render.fillStyle,r.render.lineWidth&&(i.lineWidth=r.render.lineWidth,i.strokeStyle=r.render.strokeStyle,i.stroke()),i.fill())}i.globalAlpha=1}},i.bodyWireframes=function(e,t,n){var i,o,r,a,s,l=n,c=e.options.showInternalEdges;for(l.beginPath(),r=0;r<t.length;r++)if((i=t[r]).render.visible)for(s=i.parts.length>1?1:0;s<i.parts.length;s++){for(o=i.parts[s],l.moveTo(o.vertices[0].x,o.vertices[0].y),a=1;a<o.vertices.length;a++)!o.vertices[a-1].isInternal||c?l.lineTo(o.vertices[a].x,o.vertices[a].y):l.moveTo(o.vertices[a].x,o.vertices[a].y),o.vertices[a].isInternal&&!c&&l.moveTo(o.vertices[(a+1)%o.vertices.length].x,o.vertices[(a+1)%o.vertices.length].y);l.lineTo(o.vertices[0].x,o.vertices[0].y)}l.lineWidth=1,l.strokeStyle=e.options.wireframeStrokeStyle,l.stroke()},i.bodyConvexHulls=function(e,t,n){var i,o,r,a=n;for(a.beginPath(),o=0;o<t.length;o++)if((i=t[o]).render.visible&&1!==i.parts.length){for(a.moveTo(i.vertices[0].x,i.vertices[0].y),r=1;r<i.vertices.length;r++)a.lineTo(i.vertices[r].x,i.vertices[r].y);a.lineTo(i.vertices[0].x,i.vertices[0].y)}a.lineWidth=1,a.strokeStyle="rgba(255,255,255,0.2)",a.stroke()},i.vertexNumbers=function(e,t,n){var i,o,r,a=n;for(i=0;i<t.length;i++){var s=t[i].parts;for(r=s.length>1?1:0;r<s.length;r++){var l=s[r];for(o=0;o<l.vertices.length;o++)a.fillStyle="rgba(255,255,255,0.2)",a.fillText(i+"_"+o,l.position.x+.8*(l.vertices[o].x-l.position.x),l.position.y+.8*(l.vertices[o].y-l.position.y))}}},i.mousePosition=function(e,t,n){var i=n;i.fillStyle="rgba(255,255,255,0.8)",i.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},i.bodyBounds=function(e,t,n){var i=n;e.engine;var o=e.options;i.beginPath();for(var r=0;r<t.length;r++)if(t[r].render.visible)for(var a=t[r].parts,s=a.length>1?1:0;s<a.length;s++){var l=a[s];i.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}o.wireframes?i.strokeStyle="rgba(255,255,255,0.08)":i.strokeStyle="rgba(0,0,0,0.1)",i.lineWidth=1,i.stroke()},i.bodyAxes=function(e,t,n){var i=n;e.engine;var o,r,a,s,l=e.options;for(i.beginPath(),r=0;r<t.length;r++){var c=t[r],d=c.parts;if(c.render.visible)if(l.showAxes)for(a=d.length>1?1:0;a<d.length;a++)for(o=d[a],s=0;s<o.axes.length;s++){var u=o.axes[s];i.moveTo(o.position.x,o.position.y),i.lineTo(o.position.x+20*u.x,o.position.y+20*u.y)}else for(a=d.length>1?1:0;a<d.length;a++)for(o=d[a],s=0;s<o.axes.length;s++)i.moveTo(o.position.x,o.position.y),i.lineTo((o.vertices[0].x+o.vertices[o.vertices.length-1].x)/2,(o.vertices[0].y+o.vertices[o.vertices.length-1].y)/2)}l.wireframes?(i.strokeStyle="indianred",i.lineWidth=1):(i.strokeStyle="rgba(255, 255, 255, 0.4)",i.globalCompositeOperation="overlay",i.lineWidth=2),i.stroke(),i.globalCompositeOperation="source-over"},i.bodyPositions=function(e,t,n){var i=n;e.engine;var o,r,a,s,l=e.options;for(i.beginPath(),a=0;a<t.length;a++)if((o=t[a]).render.visible)for(s=0;s<o.parts.length;s++)r=o.parts[s],i.arc(r.position.x,r.position.y,3,0,2*Math.PI,!1),i.closePath();for(l.wireframes?i.fillStyle="indianred":i.fillStyle="rgba(0,0,0,0.5)",i.fill(),i.beginPath(),a=0;a<t.length;a++)(o=t[a]).render.visible&&(i.arc(o.positionPrev.x,o.positionPrev.y,2,0,2*Math.PI,!1),i.closePath());i.fillStyle="rgba(255,165,0,0.8)",i.fill()},i.bodyVelocity=function(e,t,n){var i=n;i.beginPath();for(var r=0;r<t.length;r++){var a=t[r];if(a.render.visible){var s=o.getVelocity(a);i.moveTo(a.position.x,a.position.y),i.lineTo(a.position.x+s.x,a.position.y+s.y)}}i.lineWidth=3,i.strokeStyle="cornflowerblue",i.stroke()},i.bodyIds=function(e,t,n){var i,o,r=n;for(i=0;i<t.length;i++)if(t[i].render.visible){var a=t[i].parts;for(o=a.length>1?1:0;o<a.length;o++){var s=a[o];r.font="12px Arial",r.fillStyle="rgba(255,255,255,0.5)",r.fillText(s.id,s.position.x+10,s.position.y-10)}}},i.collisions=function(e,t,n){var i,o,r,a,s=n,l=e.options;for(s.beginPath(),r=0;r<t.length;r++)if((i=t[r]).isActive)for(o=i.collision,a=0;a<i.contactCount;a++){var c=i.contacts[a].vertex;s.rect(c.x-1.5,c.y-1.5,3.5,3.5)}for(l.wireframes?s.fillStyle="rgba(255,255,255,0.7)":s.fillStyle="orange",s.fill(),s.beginPath(),r=0;r<t.length;r++)if((i=t[r]).isActive&&(o=i.collision,i.contactCount>0)){var d=i.contacts[0].vertex.x,u=i.contacts[0].vertex.y;2===i.contactCount&&(d=(i.contacts[0].vertex.x+i.contacts[1].vertex.x)/2,u=(i.contacts[0].vertex.y+i.contacts[1].vertex.y)/2),o.bodyB===o.supports[0].body||!0===o.bodyA.isStatic?s.moveTo(d-8*o.normal.x,u-8*o.normal.y):s.moveTo(d+8*o.normal.x,u+8*o.normal.y),s.lineTo(d,u)}l.wireframes?s.strokeStyle="rgba(255,165,0,0.7)":s.strokeStyle="orange",s.lineWidth=1,s.stroke()},i.separations=function(e,t,n){var i,o,r,a,s,l=n,c=e.options;for(l.beginPath(),s=0;s<t.length;s++)if((i=t[s]).isActive){r=(o=i.collision).bodyA;var d=1;(a=o.bodyB).isStatic||r.isStatic||(d=.5),a.isStatic&&(d=0),l.moveTo(a.position.x,a.position.y),l.lineTo(a.position.x-o.penetration.x*d,a.position.y-o.penetration.y*d),d=1,a.isStatic||r.isStatic||(d=.5),r.isStatic&&(d=0),l.moveTo(r.position.x,r.position.y),l.lineTo(r.position.x+o.penetration.x*d,r.position.y+o.penetration.y*d)}c.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},i.inspector=function(e,t){e.engine;var n,i=e.selected,o=e.render,r=o.options;if(r.hasBounds){var a=o.bounds.max.x-o.bounds.min.x,s=o.bounds.max.y-o.bounds.min.y,l=a/o.options.width,c=s/o.options.height;t.scale(1/l,1/c),t.translate(-o.bounds.min.x,-o.bounds.min.y)}for(var d=0;d<i.length;d++){var u=i[d].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),u.type){case"body":n=u.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var p=u.pointA;u.bodyA&&(p=u.pointB),t.beginPath(),t.arc(p.x,p.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),r.hasBounds&&t.setTransform(1,0,0,1,0,0)};var n=function(e,t){var n=e.engine,o=e.timing,r=o.historySize,a=n.timing.timestamp;o.delta=t-o.lastTime||i._goodDelta,o.lastTime=t,o.timestampElapsed=a-o.lastTimestamp||0,o.lastTimestamp=a,o.deltaHistory.unshift(o.delta),o.deltaHistory.length=Math.min(o.deltaHistory.length,r),o.engineDeltaHistory.unshift(n.timing.lastDelta),o.engineDeltaHistory.length=Math.min(o.engineDeltaHistory.length,r),o.timestampElapsedHistory.unshift(o.timestampElapsed),o.timestampElapsedHistory.length=Math.min(o.timestampElapsedHistory.length,r),o.engineUpdatesHistory.unshift(n.timing.lastUpdatesPerFrame),o.engineUpdatesHistory.length=Math.min(o.engineUpdatesHistory.length,r),o.engineElapsedHistory.unshift(n.timing.lastElapsed),o.engineElapsedHistory.length=Math.min(o.engineElapsedHistory.length,r),o.elapsedHistory.unshift(o.lastElapsed),o.elapsedHistory.length=Math.min(o.elapsedHistory.length,r)},u=function(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length||0},p=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},m=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},f=function(e,t){var n=e.textures[t];return n||((n=e.textures[t]=new Image).src=t,n)},g=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},function(e,t,n){var i={};e.exports=i;var o=n(5),r=n(17),a=n(0);!function(){i._maxFrameDelta=1e3/15,i._frameDeltaFallback=1e3/60,i._timeBufferMargin=1.5,i._elapsedNextEstimate=1,i._smoothingLowerBound=.1,i._smoothingUpperBound=.9,i.create=function(e){var t=a.extend({delta:1e3/60,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1e3/30,lastUpdatesDeferred:0,enabled:!0},e);return t.fps=0,t},i.run=function(e,t){return e.timeBuffer=i._frameDeltaFallback,function n(o){e.frameRequestId=i._onNextFrame(e,n),o&&e.enabled&&i.tick(e,t,o)}(),e},i.tick=function(t,n,s){var l=a.now(),c=t.delta,d=0,u=s-t.timeLastTick;if((!u||!t.timeLastTick||u>Math.max(i._maxFrameDelta,t.maxFrameTime))&&(u=t.frameDelta||i._frameDeltaFallback),t.frameDeltaSmoothing){t.frameDeltaHistory.push(u),t.frameDeltaHistory=t.frameDeltaHistory.slice(-t.frameDeltaHistorySize);var p=t.frameDeltaHistory.slice(0).sort(),m=t.frameDeltaHistory.slice(p.length*i._smoothingLowerBound,p.length*i._smoothingUpperBound);u=e(m)||u}t.frameDeltaSnapping&&(u=1e3/Math.round(1e3/u)),t.frameDelta=u,t.timeLastTick=s,t.timeBuffer+=t.frameDelta,t.timeBuffer=a.clamp(t.timeBuffer,0,t.frameDelta+c*i._timeBufferMargin),t.lastUpdatesDeferred=0;var f=t.maxUpdates||Math.ceil(t.maxFrameTime/c),g={timestamp:n.timing.timestamp};o.trigger(t,"beforeTick",g),o.trigger(t,"tick",g);for(var v=a.now();c>0&&t.timeBuffer>=c*i._timeBufferMargin;){o.trigger(t,"beforeUpdate",g),r.update(n,c),o.trigger(t,"afterUpdate",g),t.timeBuffer-=c,d+=1;var y=a.now()-l,x=a.now()-v,h=y+i._elapsedNextEstimate*x/d;if(d>=f||h>t.maxFrameTime){t.lastUpdatesDeferred=Math.round(Math.max(0,t.timeBuffer/c-i._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=d,o.trigger(t,"afterTick",g),t.frameDeltaHistory.length>=100&&(t.lastUpdatesDeferred&&Math.round(t.frameDelta/c)>f?a.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):t.lastUpdatesDeferred&&a.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),void 0!==t.isFixed&&a.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(t.deltaMin||t.deltaMax)&&a.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==t.fps&&a.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},i.stop=function(e){i._cancelNextFrame(e)},i._onNextFrame=function(e,t){if("undefined"==typeof window||!window.requestAnimationFrame)throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId=window.requestAnimationFrame(t),e.frameRequestId},i._cancelNextFrame=function(e){if("undefined"==typeof window||!window.cancelAnimationFrame)throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");window.cancelAnimationFrame(e.frameRequestId)};var e=function(e){for(var t=0,n=e.length,i=0;i<n;i+=1)t+=e[i];return t/n||0}}()},function(e,t,n){var i={};e.exports=i;var o=n(8),r=n(0).deprecated;i.collides=function(e,t){return o.collides(e,t)},r(i,"collides","SAT.collides  replaced by Collision.collides")},function(e,t,n){var i={};e.exports=i,n(1);var o=n(0);i.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||o.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,r,a,s,l,c,d,u,p,m,f,g=[],v=0,y=0,x=0;t=t||15;var h=function(e,t,n){var i=n%2==1&&n>1;if(!p||e!=p.x||t!=p.y){p&&i?(m=p.x,f=p.y):(m=0,f=0);var o={x:m+e,y:f+t};!i&&p||(p=o),g.push(o),y=m+e,x=f+t}},b=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":y=e.x,x=e.y;break;case"H":y=e.x;break;case"V":x=e.y}h(y,x,e.pathSegType)}};for(i._svgPathToAbsolute(e),a=e.getTotalLength(),c=[],n=0;n<e.pathSegList.numberOfItems;n+=1)c.push(e.pathSegList.getItem(n));for(d=c.concat();v<a;){if((l=c[e.getPathSegAtLength(v)])!=u){for(;d.length&&d[0]!=l;)b(d.shift());u=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":s=e.getPointAtLength(v),h(s.x,s.y,0)}v+=t}for(n=0,r=d.length;n<r;++n)b(d[n]);return g},i._svgPathToAbsolute=function(e){for(var t,n,i,o,r,a,s=e.pathSegList,l=0,c=0,d=s.numberOfItems,u=0;u<d;++u){var p=s.getItem(u),m=p.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(m))"x"in p&&(l=p.x),"y"in p&&(c=p.y);else switch("x1"in p&&(i=l+p.x1),"x2"in p&&(r=l+p.x2),"y1"in p&&(o=c+p.y1),"y2"in p&&(a=c+p.y2),"x"in p&&(l+=p.x),"y"in p&&(c+=p.y),m){case"m":s.replaceItem(e.createSVGPathSegMovetoAbs(l,c),u);break;case"l":s.replaceItem(e.createSVGPathSegLinetoAbs(l,c),u);break;case"h":s.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),u);break;case"v":s.replaceItem(e.createSVGPathSegLinetoVerticalAbs(c),u);break;case"c":s.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,c,i,o,r,a),u);break;case"s":s.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,c,r,a),u);break;case"q":s.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,c,i,o),u);break;case"t":s.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),u);break;case"a":s.replaceItem(e.createSVGPathSegArcAbs(l,c,p.r1,p.r2,p.angle,p.largeArcFlag,p.sweepFlag),u);break;case"z":case"Z":l=t,c=n}"M"!=m&&"m"!=m||(t=l,n=c)}}},function(e,t,n){var i={};e.exports=i;var o=n(6);n(0),i.create=o.create,i.add=o.add,i.remove=o.remove,i.clear=o.clear,i.addComposite=o.addComposite,i.addBody=o.addBody,i.addConstraint=o.addConstraint}]))),O=e.memo((function({text:n="",highlightWords:i=[],trigger:o="auto",backgroundColor:r="transparent",wireframes:a=!1,gravity:s=1,mouseConstraintStiffness:l=.2,fontSize:c="1rem",highlightClass:d}){const u=e.useRef(null),p=e.useRef(null),m=e.useRef(null),[f,g]=e.useState(!1);e.useEffect((()=>{if(!p.current)return;const e=n.split(" ").map((e=>`<span\n          class="inline-block whitespace-nowrap matter-element select-none ${i.some((t=>e.startsWith(t)))?d:""}  "\n        >${e}</span>`)).join(" ");p.current.innerHTML=e}),[n,i]),e.useEffect((()=>{if("auto"!==o){if("scroll"===o&&u.current){const e=new IntersectionObserver((([t])=>{t.isIntersecting&&(g(!0),e.disconnect())}),{threshold:.1});return e.observe(u.current),()=>e.disconnect()}}else g(!0)}),[o]),e.useEffect((()=>{if(!f)return;const{Engine:e,Render:t,World:n,Bodies:i,Runner:o,Mouse:c,MouseConstraint:d}=H,g=u.current.getBoundingClientRect(),v=g.width,y=g.height;if(v<=0||y<=0)return;const x=e.create();x.world.gravity.y=s;const h=t.create({element:m.current,engine:x,options:{width:v,height:y,background:r,wireframes:a}}),b={isStatic:!0,render:{fillStyle:"transparent"}},w=i.rectangle(v/2,y+25,v,50,b),S=i.rectangle(-25,y/2,50,y,b),k=i.rectangle(v+25,y/2,50,y,b),P=i.rectangle(v/2,-25,v,50,b),A=[...p.current.querySelectorAll("span")].map((e=>{const t=e.getBoundingClientRect(),n=t.left-g.left+t.width/2,o=t.top-g.top+t.height/2,r=i.rectangle(n,o,t.width,t.height,{render:{fillStyle:"transparent"},restitution:.8,frictionAir:.01,friction:.2});return H.Body.setVelocity(r,{x:5*(Math.random()-.5),y:0}),H.Body.setAngularVelocity(r,.05*(Math.random()-.5)),{elem:e,body:r}}));A.forEach((({elem:e,body:t})=>{e.style.position="absolute",e.style.left=t.position.x-t.bounds.max.x+t.bounds.min.x/2+"px",e.style.top=t.position.y-t.bounds.max.y+t.bounds.min.y/2+"px",e.style.transform="none"}));const M=c.create(u.current),C=d.create(x,{mouse:M,constraint:{stiffness:l,render:{visible:!1}}});h.mouse=M,n.add(x.world,[w,S,k,P,C,...A.map((e=>e.body))]);const B=o.create();o.run(B,x),t.run(h);const j=()=>{A.forEach((({body:e,elem:t})=>{const{x:n,y:i}=e.position;t.style.left=`${n}px`,t.style.top=`${i}px`,t.style.transform=`translate(-50%,-50%) rotate(${e.angle}rad)`})),H.Engine.update(x),requestAnimationFrame(j)};return j(),()=>{t.stop(h),o.stop(B),h.canvas&&m.current&&m.current.removeChild(h.canvas),n.clear(x.world),e.clear(x)}}),[f,s,a,r,l]);const v=()=>{f||"click"!==o&&"hover"!==o||g(!0)};return t.jsxs("div",{ref:u,className:"relative z-[1] h-full w-full cursor-grab overflow-hidden pt-8 text-center active:cursor-grabbing",onClick:"click"===o?v:void 0,onMouseOver:"hover"===o?v:void 0,children:[t.jsx("div",{ref:p,className:"inline-block",style:{fontSize:c,lineHeight:1.4}}),t.jsx("div",{className:"absolute top-0 left-0 z-0",ref:m})]})})),W=()=>t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"h-full w-full",style:{gridArea:"1/1"},children:t.jsx(O,{text:"E-commerce Portfolio Forums Personal &#10035; CMS Booking Entertainment Business &#10035; API Landing-page Custom Subscription &#10035; SaaS Kid-friendly Blog LMS Event Educational &#10035; Informational".split(" ").sort((()=>Math.random()-.5)).join(" "),highlightWords:["E-commerce","SaaS","CMS","Business","Custom","Portfolio","LMS","Educational","API"],highlightClass:"highlighted",trigger:"scroll",backgroundColor:"transparent",wireframes:!1,gravity:.56,fontSize:"1rem",mouseConstraintStiffness:.2})}),t.jsxs("div",{className:"inline-p flex h-full w-full flex-col items-center justify-center py-24 select-none",style:{gridArea:"1/1"},children:[t.jsx("p",{className:"mb-2 text-[2rem] font-semibold md:text-[3.5rem]",children:"Ready to build?"}),t.jsx("h3",{className:"text-muted-foreground max-w-[16ch] text-center leading-tight",children:"Create the incredible, with Jaypal."})]})]}),z=()=>{const{theme:n}=e.useContext(o);return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"relative grid grid-cols-1 gap-6 md:grid-cols-2 lg:gap-16",children:[B.map((e=>t.jsxs("div",{className:"inline-p flex flex-col py-7 md:pt-7 md:pb-11",children:[t.jsx("h3",{className:"text-foreground",children:e.name}),t.jsx("p",{className:"text-muted-foreground mb-12 lg:mb-16",children:e.text}),t.jsx("div",{className:"flex flex-wrap gap-y-6 gap-x-2 ms-7",children:e.skills.map((e=>t.jsx(a,{name:e.name,icon:j[e.icon],color:e.color,style:{"--cube-color":e.color,"--cube-border-dark":"dark"===n?`color-mix(in oklab, ${e.color} 70%, #000 30%)`:null}},`tech-${e.name}`)))})]},`stack-${e.name}`))),t.jsx(i,{className:"line-x-center h-full max-md:hidden"}),t.jsx(i,{className:"line-y-center w-full md:hidden"})]})})},U="text-accent size-10 md:size-12 stroke-1",G=[{title:"+5",text:"Successful project delivered",icon:t.jsx(h,{className:U})},{title:"~98%",text:"Jobs completed rate",icon:t.jsx(f,{className:U})},{title:"4.6",text:"Stars average rated work",icon:t.jsx(S,{className:U})}],$=()=>t.jsx(t.Fragment,{children:t.jsx(m,{children:G.map((e=>t.jsx(m.box,{className:"md:max-lg:nth-[2]:row-span-2",children:t.jsxs("div",{className:"grid grid-cols-[min-content_1fr] grid-rows-[repeat(2,min-content)] items-center gap-x-3.5 md:gap-x-4",children:[t.jsx("div",{className:"row-span-2",children:e.icon}),t.jsx("h2",{className:"font-semibold",children:e.title}),t.jsx("p",{className:"text-muted-foreground",children:e.text})]})},`number-proof-${e.title}`)))})}),Q=()=>t.jsxs(l,{children:[t.jsx("section",{className:"inline-p pt-8 pb-12 md:pt-12 md:pb-24",children:t.jsx(A,{})}),t.jsx(i,{className:"relative"}),t.jsx("section",{children:t.jsx($,{})}),t.jsx(i,{className:"relative"}),t.jsx("section",{children:t.jsx(p,{})}),t.jsx(i,{className:"relative"}),t.jsx("section",{className:"py-12 md:py-24",children:t.jsx(_,{})}),t.jsx(i,{className:"relative"}),t.jsx("section",{className:"",children:t.jsx(T,{})}),t.jsx(i,{className:"relative"}),t.jsx("section",{className:"py-12 md:py-24",children:t.jsx(N,{})}),t.jsx(i,{className:"relative"}),t.jsx("section",{className:"py-12 md:py-24",children:t.jsx(F,{})}),t.jsx(i,{className:"relative"}),t.jsx("section",{className:"relative grid h-[70vh] max-h-[768px] grid-cols-1 grid-rows-1 items-center justify-center",children:t.jsx(W,{})}),t.jsx(i,{className:"relative"}),t.jsx("section",{children:t.jsx(z,{})}),t.jsx(i,{className:"relative"})]});export{Q as default};
