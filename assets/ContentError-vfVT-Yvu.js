var t,e,s,i,r,n,a,o,h,l,c,u,d,p,f,m,v,g,y,b,R,w,x,O,k,C,M=t=>{throw TypeError(t)},S=(t,e,s)=>e.has(t)||M("Cannot "+s),W=(t,e,s)=>(S(t,e,"read from private field"),s?s.call(t):e.get(t)),E=(t,e,s)=>e.has(t)?M("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),j=(t,e,s,i)=>(S(t,e,"write to private field"),i?i.call(t,s):e.set(t,s),s),U=(t,e,s)=>(S(t,e,"access private method"),s);import{S as Q,p as T,r as I,s as L,a as _,n as q,i as F,b as D,t as P,f as N,c as B,d as A,e as H,u as z}from"./BackButtonSection-C0RgMozO.js";import{r as $,j as G}from"./index.js";var J=(C=class extends Q{constructor(v,g){super(),E(this,m),E(this,t),E(this,e),E(this,s),E(this,i),E(this,r),E(this,n),E(this,a),E(this,o),E(this,h),E(this,l),E(this,c),E(this,u),E(this,d),E(this,p),E(this,f,new Set),this.options=g,j(this,t,v),j(this,o,null),j(this,a,T()),this.options.experimental_prefetchInRender||W(this,a).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(g)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(W(this,e).addObserver(this),K(W(this,e),this.options)?U(this,m,v).call(this):this.updateResult(),U(this,m,R).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return V(W(this,e),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return V(W(this,e),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,U(this,m,w).call(this),U(this,m,x).call(this),W(this,e).removeObserver(this)}setOptions(s,i){const r=this.options,n=W(this,e);if(this.options=W(this,t).defaultQueryOptions(s),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof I(this.options.enabled,W(this,e)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");U(this,m,O).call(this),W(this,e).setOptions(this.options),r._defaulted&&!L(this.options,r)&&W(this,t).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,e),observer:this});const a=this.hasListeners();a&&X(W(this,e),n,this.options,r)&&U(this,m,v).call(this),this.updateResult(i),!a||W(this,e)===n&&I(this.options.enabled,W(this,e))===I(r.enabled,W(this,e))&&_(this.options.staleTime,W(this,e))===_(r.staleTime,W(this,e))||U(this,m,g).call(this);const o=U(this,m,y).call(this);!a||W(this,e)===n&&I(this.options.enabled,W(this,e))===I(r.enabled,W(this,e))&&o===W(this,p)||U(this,m,b).call(this,o)}getOptimisticResult(s){const a=W(this,t).getQueryCache().build(W(this,t),s),o=this.createResult(a,s);return function(t,e){if(!L(t.getCurrentResult(),e))return!0;return!1}(this,o)&&(j(this,i,o),j(this,n,this.options),j(this,r,W(this,e).state)),o}getCurrentResult(){return W(this,i)}trackResult(t,e){const s={};return Object.keys(t).forEach((i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),null==e||e(i),t[i])})})),s}trackProp(t){W(this,f).add(t)}getCurrentQuery(){return W(this,e)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(e){const s=W(this,t).defaultQueryOptions(e),i=W(this,t).getQueryCache().build(W(this,t),s);return i.fetch().then((()=>this.createResult(i,s)))}fetch(t){return U(this,m,v).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then((()=>(this.updateResult(),W(this,i))))}createResult(t,u){var d;const p=W(this,e),f=this.options,m=W(this,i),v=W(this,r),g=W(this,n),y=t!==p?t.state:W(this,s),{state:b}=t;let R,w={...b},x=!1;if(u._optimisticResults){const e=this.hasListeners(),s=!e&&K(t,u),i=e&&X(t,p,u,f);(s||i)&&(w={...w,...B(b.data,t.options)}),"isRestoring"===u._optimisticResults&&(w.fetchStatus="idle")}let{error:O,errorUpdatedAt:k,status:C}=w;if(u.select&&void 0!==w.data)if(m&&w.data===(null==v?void 0:v.data)&&u.select===W(this,h))R=W(this,l);else try{j(this,h,u.select),R=u.select(w.data),R=A(null==m?void 0:m.data,R,u),j(this,l,R),j(this,o,null)}catch(L){j(this,o,L)}else R=w.data;if(void 0!==u.placeholderData&&void 0===R&&"pending"===C){let t;if((null==m?void 0:m.isPlaceholderData)&&u.placeholderData===(null==g?void 0:g.placeholderData))t=m.data;else if(t="function"==typeof u.placeholderData?u.placeholderData(null==(d=W(this,c))?void 0:d.state.data,W(this,c)):u.placeholderData,u.select&&void 0!==t)try{t=u.select(t),j(this,o,null)}catch(L){j(this,o,L)}void 0!==t&&(C="success",R=A(null==m?void 0:m.data,t,u),x=!0)}W(this,o)&&(O=W(this,o),R=W(this,l),k=Date.now(),C="error");const M="fetching"===w.fetchStatus,S="pending"===C,E="error"===C,U=S&&M,Q=void 0!==R,I={status:C,fetchStatus:w.fetchStatus,isPending:S,isSuccess:"success"===C,isError:E,isInitialLoading:U,isLoading:U,data:R,dataUpdatedAt:w.dataUpdatedAt,error:O,errorUpdatedAt:k,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>y.dataUpdateCount||w.errorUpdateCount>y.errorUpdateCount,isFetching:M,isRefetching:M&&!S,isLoadingError:E&&!Q,isPaused:"paused"===w.fetchStatus,isPlaceholderData:x,isRefetchError:E&&Q,isStale:Y(t,u),refetch:this.refetch,promise:W(this,a)};if(this.options.experimental_prefetchInRender){const e=t=>{"error"===I.status?t.reject(I.error):void 0!==I.data&&t.resolve(I.data)},s=()=>{const t=j(this,a,I.promise=T());e(t)},i=W(this,a);switch(i.status){case"pending":t.queryHash===p.queryHash&&e(i);break;case"fulfilled":"error"!==I.status&&I.data===i.value||s();break;case"rejected":"error"===I.status&&I.error===i.reason||s()}}return I}updateResult(t){const s=W(this,i),a=this.createResult(W(this,e),this.options);if(j(this,r,W(this,e).state),j(this,n,this.options),void 0!==W(this,r).data&&j(this,c,W(this,e)),L(a,s))return;j(this,i,a);const o={};!1!==(null==t?void 0:t.listeners)&&(()=>{if(!s)return!0;const{notifyOnChangeProps:t}=this.options,e="function"==typeof t?t():t;if("all"===e||!e&&!W(this,f).size)return!0;const r=new Set(e??W(this,f));return this.options.throwOnError&&r.add("error"),Object.keys(W(this,i)).some((t=>{const e=t;return W(this,i)[e]!==s[e]&&r.has(e)}))})()&&(o.listeners=!0),U(this,m,k).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&U(this,m,R).call(this)}},t=new WeakMap,e=new WeakMap,s=new WeakMap,i=new WeakMap,r=new WeakMap,n=new WeakMap,a=new WeakMap,o=new WeakMap,h=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakSet,v=function(t){U(this,m,O).call(this);let s=W(this,e).fetch(this.options,t);return(null==t?void 0:t.throwOnError)||(s=s.catch(q)),s},g=function(){U(this,m,w).call(this);const t=_(this.options.staleTime,W(this,e));if(F||W(this,i).isStale||!D(t))return;const s=P(W(this,i).dataUpdatedAt,t);j(this,u,setTimeout((()=>{W(this,i).isStale||this.updateResult()}),s+1))},y=function(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(W(this,e)):this.options.refetchInterval)??!1},b=function(t){U(this,m,x).call(this),j(this,p,t),!F&&!1!==I(this.options.enabled,W(this,e))&&D(W(this,p))&&0!==W(this,p)&&j(this,d,setInterval((()=>{(this.options.refetchIntervalInBackground||N.isFocused())&&U(this,m,v).call(this)}),W(this,p)))},R=function(){U(this,m,g).call(this),U(this,m,b).call(this,U(this,m,y).call(this))},w=function(){W(this,u)&&(clearTimeout(W(this,u)),j(this,u,void 0))},x=function(){W(this,d)&&(clearInterval(W(this,d)),j(this,d,void 0))},O=function(){const i=W(this,t).getQueryCache().build(W(this,t),this.options);if(i===W(this,e))return;const r=W(this,e);j(this,e,i),j(this,s,i.state),this.hasListeners()&&(null==r||r.removeObserver(this),i.addObserver(this))},k=function(s){H.batch((()=>{s.listeners&&this.listeners.forEach((t=>{t(W(this,i))})),W(this,t).getQueryCache().notify({query:W(this,e),type:"observerResultsUpdated"})}))},C);function K(t,e){return function(t,e){return!1!==I(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&V(t,e,e.refetchOnMount)}function V(t,e,s){if(!1!==I(e.enabled,t)){const i="function"==typeof s?s(t):s;return"always"===i||!1!==i&&Y(t,e)}return!1}function X(t,e,s,i){return(t!==e||!1===I(i.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&Y(t,s)}function Y(t,e){return!1!==I(e.enabled,t)&&t.isStaleByTime(_(e.staleTime,t))}var Z=$.createContext(!1);Z.Provider;var tt=$.createContext(function(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}());function et(){}var st=(t,e,s)=>e.fetchOptimistic(t).catch((()=>{s.clearReset()}));function it(t,e,s){var i,r,n,a,o;const h=z(),l=$.useContext(Z),c=$.useContext(tt),u=h.defaultQueryOptions(t);null==(r=null==(i=h.getDefaultOptions().queries)?void 0:i._experimental_beforeQuery)||r.call(i,u),u._optimisticResults=l?"isRestoring":"optimistic",(t=>{const e=t.staleTime;t.suspense&&(t.staleTime="function"==typeof e?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),"number"==typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3)))})(u),((t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))})(u,c),(t=>{$.useEffect((()=>{t.clearReset()}),[t])})(c);const d=!h.getQueryCache().get(u.queryHash),[p]=$.useState((()=>new e(h,u))),f=p.getOptimisticResult(u),m=!l&&!1!==t.subscribed;if($.useSyncExternalStore($.useCallback((t=>{const e=m?p.subscribe(H.batchCalls(t)):et;return p.updateResult(),e}),[p,m]),(()=>p.getCurrentResult()),(()=>p.getCurrentResult())),$.useEffect((()=>{p.setOptions(u,{listeners:!1})}),[u,p]),((t,e)=>(null==t?void 0:t.suspense)&&e.isPending)(u,f))throw st(u,p,c);if((({result:t,errorResetBoundary:e,throwOnError:s,query:i,suspense:r})=>{return t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&void 0===t.data||(n=s,a=[t.error,i],"function"==typeof n?n(...a):!!n));var n,a})({result:f,errorResetBoundary:c,throwOnError:u.throwOnError,query:h.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw f.error;if(null==(a=null==(n=h.getDefaultOptions().queries)?void 0:n._experimental_afterQuery)||a.call(n,u,f),u.experimental_prefetchInRender&&!F&&((t,e)=>t.isLoading&&t.isFetching&&!e)(f,l)){const t=d?st(u,p,c):null==(o=h.getQueryCache().get(u.queryHash))?void 0:o.promise;null==t||t.catch(et).finally((()=>{p.updateResult()}))}return u.notifyOnChangeProps?f:p.trackResult(f)}function rt(t,e){return it(t,J)}const nt=({...t})=>($.useEffect((()=>{let t="";return t=setTimeout((()=>{var t,e;null==(e=null==(t=document.querySelector("#innerLoader"))?void 0:t.classList)||e.remove("hidden")}),400),()=>{clearTimeout(t)}}),[]),G.jsxs("svg",{className:"loader-container hidden",viewBox:"0 0 35 35",height:"35",width:"35",id:"innerLoader",...t,children:[G.jsx("rect",{className:"track",x:"2.5",y:"2.5",fill:"none",strokeWidth:"5px",width:"32.5",height:"32.5"}),G.jsx("rect",{className:"car",x:"2.5",y:"2.5",fill:"none",strokeWidth:"5px",width:"32.5",height:"32.5",pathLength:"100"})]})),at=({className:t})=>G.jsx("section",{className:`bg-background grid h-[calc(100lvh-var(--nav-top-margin))] place-content-center ${t}`,children:G.jsx(nt,{})}),ot=()=>G.jsxs("section",{className:"flex min-h-[calc(100lvh-var(--nav-top-margin))] flex-col items-center justify-center",children:[G.jsx("span",{className:"mb-4 font-mono text-9xl tracking-tighter",children:"Oops!"}),G.jsx("p",{className:"text-2xl",children:"Something went wrong"})]});export{at as C,ot as a,rt as u};
